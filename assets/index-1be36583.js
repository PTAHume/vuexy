import{r as D,d as Y,P as F,aQ as Ae,e as Ne,w as e,b as te,A as I,C as Ke,s as E,D as He,B as Z,aR as Ue,Q as Qe,aS as Ge,aT as Je,aU as ae,aV as Xe,aW as oe,aX as Q,aY as H,aZ as W,a_ as ne,a$ as Ze,b0 as le,b1 as G,b2 as U,b3 as $,b4 as et}from"./index-e113e7ac.js";import{S as Te}from"./react-select.esm-22d3784c.js";import{u as me,C as k}from"./index.esm-5245d213.js";import{c as he,b as De,a as V,o as ve,d as we}from"./customSelectValidation-fd2d067e.js";import{a as fe,h as tt,s as Oe,A as rt,o as ce}from"./App-0bb43d29.js";import{R as X,C as q}from"./Col-1eeeaa73.js";import{F as ge}from"./Form-917f1020.js";import{F as se}from"./FormFeedback-a79d6279.js";import{L as z,I as Le}from"./Label-5276616f.js";import{h as re,u as at,a as nt,A as J}from"./moment-35803f40.js";import{C as st}from"./check-c0078cdf.js";import{C as it}from"./Card-8c03d74a.js";import{C as ot}from"./CardBody-b9d751bb.js";import{F as Ee}from"./flatpickr-ac91d22c.js";function ue(){return ue=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},ue.apply(this,arguments)}function lt(i,u){if(i==null)return{};var o=ct(i,u),l,d;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);for(d=0;d<m.length;d++)l=m[d],!(u.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(o[l]=i[l])}return o}function ct(i,u){if(i==null)return{};var o={},l=Object.keys(i),d,m;for(m=0;m<l.length;m++)d=l[m],!(u.indexOf(d)>=0)&&(o[d]=i[d]);return o}var ye=D.forwardRef(function(i,u){var o=i.color,l=o===void 0?"currentColor":o,d=i.size,m=d===void 0?24:d,_=lt(i,["color","size"]);return Y.createElement("svg",ue({ref:u,xmlns:"http://www.w3.org/2000/svg",width:m,height:m,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),Y.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),Y.createElement("polyline",{points:"12 19 5 12 12 5"}))});ye.propTypes={color:F.string,size:F.oneOfType([F.string,F.number])};ye.displayName="ArrowLeft";const Ie=ye;function de(){return de=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},de.apply(this,arguments)}function ut(i,u){if(i==null)return{};var o=dt(i,u),l,d;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);for(d=0;d<m.length;d++)l=m[d],!(u.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(o[l]=i[l])}return o}function dt(i,u){if(i==null)return{};var o={},l=Object.keys(i),d,m;for(m=0;m<l.length;m++)d=l[m],!(u.indexOf(d)>=0)&&(o[d]=i[d]);return o}var _e=D.forwardRef(function(i,u){var o=i.color,l=o===void 0?"currentColor":o,d=i.size,m=d===void 0?24:d,_=ut(i,["color","size"]);return Y.createElement("svg",de({ref:u,xmlns:"http://www.w3.org/2000/svg",width:m,height:m,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),Y.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),Y.createElement("polyline",{points:"12 5 19 12 12 19"}))});_e.propTypes={color:F.string,size:F.oneOfType([F.string,F.number])};_e.displayName="ArrowRight";const xe=_e;function pe(){return pe=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},pe.apply(this,arguments)}function pt(i,u){if(i==null)return{};var o=mt(i,u),l,d;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);for(d=0;d<m.length;d++)l=m[d],!(u.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(o[l]=i[l])}return o}function mt(i,u){if(i==null)return{};var o={},l=Object.keys(i),d,m;for(m=0;m<l.length;m++)d=l[m],!(u.indexOf(d)>=0)&&(o[d]=i[d]);return o}var be=D.forwardRef(function(i,u){var o=i.color,l=o===void 0?"currentColor":o,d=i.size,m=d===void 0?24:d,_=pt(i,["color","size"]);return Y.createElement("svg",pe({ref:u,xmlns:"http://www.w3.org/2000/svg",width:m,height:m,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),Y.createElement("polyline",{points:"9 18 15 12 9 6"}))});be.propTypes={color:F.string,size:F.oneOfType([F.string,F.number])};be.displayName="ChevronRight";const ht=be;var Pe={exports:{}};/*!
 * bsStepper v1.7.0 (https://github.com/Johann-S/bs-stepper)
 * Copyright 2018 - 2019 Johann-S <johann.servoire@gmail.com>
 * Licensed under MIT (https://github.com/Johann-S/bs-stepper/blob/master/LICENSE)
 */(function(i,u){(function(o,l){i.exports=l()})(Ae,function(){function o(){return o=Object.assign||function(p){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(p[c]=s[c])}return p},o.apply(this,arguments)}var l=window.Element.prototype.matches,d=function(a,s){return a.closest(s)},m=function(a,s){return new window.Event(a,s)},_=function(a,s){var c=new window.CustomEvent(a,s);return c};function w(){if(window.Element.prototype.matches||(l=window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector),window.Element.prototype.closest||(d=function(s,c){if(!document.documentElement.contains(s))return null;do{if(l.call(s,c))return s;s=s.parentElement||s.parentNode}while(s!==null&&s.nodeType===1);return null}),(!window.Event||typeof window.Event!="function")&&(m=function(s,c){c=c||{};var f=document.createEvent("Event");return f.initEvent(s,!!c.bubbles,!!c.cancelable),f}),typeof window.CustomEvent!="function"){var p=window.Event.prototype.preventDefault;_=function(s,c){var f=document.createEvent("CustomEvent");return c=c||{bubbles:!1,cancelable:!1,detail:null},f.initCustomEvent(s,c.bubbles,c.cancelable,c.detail),f.preventDefault=function(){this.cancelable&&(p.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}))},f}}}w();var j=1e3,g={ACTIVE:"active",LINEAR:"linear",BLOCK:"dstepper-block",NONE:"dstepper-none",FADE:"fade",VERTICAL:"vertical"},v="transitionend",S="bsStepper",L=function(a,s,c,f){var h=a[S];if(!(h._steps[s].classList.contains(g.ACTIVE)||h._stepsContents[s].classList.contains(g.ACTIVE))){var T=_("show.bs-stepper",{cancelable:!0,detail:{from:h._currentIndex,to:s,indexStep:s}});a.dispatchEvent(T);var y=h._steps.filter(function(M){return M.classList.contains(g.ACTIVE)}),B=h._stepsContents.filter(function(M){return M.classList.contains(g.ACTIVE)});T.defaultPrevented||(y.length&&y[0].classList.remove(g.ACTIVE),B.length&&(B[0].classList.remove(g.ACTIVE),!a.classList.contains(g.VERTICAL)&&!h.options.animation&&B[0].classList.remove(g.BLOCK)),P(a,h._steps[s],h._steps,c),b(a,h._stepsContents[s],h._stepsContents,B,f))}},P=function(a,s,c,f){c.forEach(function(T){var y=T.querySelector(f.selectors.trigger);y.setAttribute("aria-selected","false"),a.classList.contains(g.LINEAR)&&y.setAttribute("disabled","disabled")}),s.classList.add(g.ACTIVE);var h=s.querySelector(f.selectors.trigger);h.setAttribute("aria-selected","true"),a.classList.contains(g.LINEAR)&&h.removeAttribute("disabled")},b=function(a,s,c,f,h){var T=a[S],y=c.indexOf(s),B=_("shown.bs-stepper",{cancelable:!0,detail:{from:T._currentIndex,to:y,indexStep:y}});function M(){s.classList.add(g.BLOCK),s.removeEventListener(v,M),a.dispatchEvent(B),h()}if(s.classList.contains(g.FADE)){s.classList.remove(g.NONE);var ie=A(s);s.addEventListener(v,M),f.length&&f[0].classList.add(g.NONE),s.classList.add(g.ACTIVE),C(s,ie)}else s.classList.add(g.ACTIVE),s.classList.add(g.BLOCK),a.dispatchEvent(B),h()},A=function(a){if(!a)return 0;var s=window.getComputedStyle(a).transitionDuration,c=parseFloat(s);return c?(s=s.split(",")[0],parseFloat(s)*j):0},C=function(a,s){var c=!1,f=5,h=s+f;function T(){c=!0,a.removeEventListener(v,T)}a.addEventListener(v,T),window.setTimeout(function(){c||a.dispatchEvent(m(v)),a.removeEventListener(v,T)},h)},r=function(a,s){s.animation&&a.forEach(function(c){c.classList.add(g.FADE),c.classList.add(g.NONE)})},K=function(){return function(s){s.preventDefault()}},N=function(a){return function(c){c.preventDefault();var f=d(c.target,a.selectors.steps),h=d(f,a.selectors.stepper),T=h[S],y=T._steps.indexOf(f);L(h,y,a,function(){T._currentIndex=y})}},O={linear:!0,animation:!1,selectors:{steps:".step",trigger:".step-trigger",stepper:".bs-stepper"}},ee=function(){function p(s,c){var f=this;c===void 0&&(c={}),this._element=s,this._currentIndex=0,this._stepsContents=[],this.options=o({},O,{},c),this.options.selectors=o({},O.selectors,{},this.options.selectors),this.options.linear&&this._element.classList.add(g.LINEAR),this._steps=[].slice.call(this._element.querySelectorAll(this.options.selectors.steps)),this._steps.filter(function(h){return h.hasAttribute("data-target")}).forEach(function(h){f._stepsContents.push(f._element.querySelector(h.getAttribute("data-target")))}),r(this._stepsContents,this.options),this._setLinkListeners(),Object.defineProperty(this._element,S,{value:this,writable:!0}),this._steps.length&&L(this._element,this._currentIndex,this.options,function(){})}var a=p.prototype;return a._setLinkListeners=function(){var c=this;this._steps.forEach(function(f){var h=f.querySelector(c.options.selectors.trigger);c.options.linear?(c._clickStepLinearListener=K(c.options),h.addEventListener("click",c._clickStepLinearListener)):(c._clickStepNonLinearListener=N(c.options),h.addEventListener("click",c._clickStepNonLinearListener))})},a.next=function(){var c=this,f=this._currentIndex+1<=this._steps.length-1?this._currentIndex+1:this._steps.length-1;L(this._element,f,this.options,function(){c._currentIndex=f})},a.previous=function(){var c=this,f=this._currentIndex-1>=0?this._currentIndex-1:0;L(this._element,f,this.options,function(){c._currentIndex=f})},a.to=function(c){var f=this,h=c-1,T=h>=0&&h<this._steps.length?h:0;L(this._element,T,this.options,function(){f._currentIndex=T})},a.reset=function(){var c=this;L(this._element,0,this.options,function(){c._currentIndex=0})},a.destroy=function(){var c=this;this._steps.forEach(function(f){var h=f.querySelector(c.options.selectors.trigger);c.options.linear?h.removeEventListener("click",c._clickStepLinearListener):h.removeEventListener("click",c._clickStepNonLinearListener)}),this._element[S]=void 0,this._element=void 0,this._currentIndex=void 0,this._steps=void 0,this._stepsContents=void 0,this._clickStepLinearListener=void 0,this._clickStepNonLinearListener=void 0},p}();return ee})})(Pe);var vt=Pe.exports;const ft=Ne(vt);const je=D.forwardRef((i,u)=>{const{type:o,steps:l,options:d,instance:m,separator:_,className:w,headerClassName:j,contentClassName:g,contentWrapperClassName:v}=i,[S,L]=D.useState(0);let P=null;D.useEffect(()=>{P=new ft(u.current,d),u.current.addEventListener("shown.bs-stepper",function(C){L(C.detail.indexStep)}),m&&m(P)},[]);const b=()=>l.map((C,r)=>e.jsxs(D.Fragment,{children:[r!==0&&r!==l.length?e.jsx("div",{className:"line",children:_}):null,e.jsx("div",{className:te("step",{crossed:S>r,active:r===S}),"data-target":`#${C.id}`,children:e.jsxs("button",{type:"button",className:"step-trigger",children:[e.jsx("span",{className:"bs-stepper-box",children:C.icon?C.icon:r+1}),e.jsxs("span",{className:"bs-stepper-label",children:[e.jsx("span",{className:"bs-stepper-title",children:C.title}),C.subtitle?e.jsx("span",{className:"bs-stepper-subtitle",children:C.subtitle}):null]})]})})]},C.id)),A=()=>l.map((C,r)=>e.jsx("div",{className:te("content",{[g]:g,"active dstepper-block":S===r}),id:C.id,children:C.content},C.id));return e.jsxs("div",{ref:u,className:te("bs-stepper",{[w]:w,vertical:o==="vertical","vertical wizard-modern":o==="modern-vertical","wizard-modern":o==="modern-horizontal"}),children:[e.jsx("div",{className:te("bs-stepper-header",{[j]:j}),children:b()}),e.jsx("div",{className:te("bs-stepper-content",{[v]:v}),children:A()})]})});je.defaultProps={options:{},type:"horizontal",separator:e.jsx(ht,{size:17})};je.propTypes={type:I.PropTypes.string,instance:I.PropTypes.func,options:I.PropTypes.object,className:I.PropTypes.string,separator:I.PropTypes.element,headerClassName:I.PropTypes.string,contentClassName:I.PropTypes.string,contentWrapperClassName:I.PropTypes.string,steps:I.PropTypes.arrayOf(I.PropTypes.shape({id:I.PropTypes.string.isRequired,title:I.PropTypes.string.isRequired,subtitle:I.PropTypes.string,icon:I.PropTypes.any,content:I.PropTypes.any.isRequired})).isRequired};const gt=({stepper:i})=>{const u=fe(),o=Ke(),l=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.departure_country_id}),d=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.departure_city_id}),m=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.arrival_country_id}),_=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.arrival_city_id}),w=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.departure_airport_id}),j=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.departure_airport_id}),g=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.departureDate}),v=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.arrivalDate}),S=E(p=>{var a;return(a=p.useDealData)==null?void 0:a.deliveryType}),[L,P]=D.useState(!1),b=new He,A=[{value:"true",label:"Yes"},{value:"false",label:"No"}],C=he().shape({price:De().typeError("Price is required").required("Price is required").positive().min(1,"Min value of 1").max(1e3,"Max value of 1000"),weight:De().typeError("Weight is required").min(1,"Min value of 1").required("Weight is required"),duty_free:V().required("Duty free is required")}),{control:r,handleSubmit:K,formState:{errors:N}}=me({resolver:ve(C)}),O=E(p=>tt(p)),ee=async p=>{P(!0);try{const a={user_id:O.id,delivery_type:S,price:p.price,weight:p.weight,departure_airport_id:w,arrival_country_id:m,arrival_city_id:_,departure_city_id:d,arrival_airport_id:j,departure_country_id:l,departure_date:re(g).format("YYYY-MM-DD HH:mm:ss"),arrival_date:re(v).format("YYYY-MM-DD HH:mm:ss"),duty_free:!!p.duty_free};if(console.log(JSON.stringify(a)),(await b.addUserNewDeal(a)).status===201)return P(!1),localStorage.setItem("lastUpdated",Date.now()),u(Ue()),Qe(e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"me-1",children:e.jsx(rt,{size:"sm",color:"success",icon:e.jsx(st,{size:12})})}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("h6",{children:"Form Submitted!"}),e.jsx("div",{}),e.jsx("span",{children:"You have successfully added the new dea!"})]})]})),o("/home"),!0}catch(a){console.error(a)}};return e.jsxs(D.Fragment,{children:[e.jsxs("div",{className:"content-header",children:[e.jsx("h5",{className:"mb-0",children:"Personal Info"}),e.jsx("small",{children:"Enter Your Personal Info."})]}),e.jsx("br",{}),e.jsxs(ge,{onSubmit:K(ee),children:[e.jsxs(X,{children:[e.jsxs(q,{xs:"4",children:[e.jsx(z,{for:"weight",children:"Weight"}),e.jsx(k,{control:r,id:"weightAsync",name:"weight",render:({field:p})=>e.jsx(Le,{...p,value:p.value||"",type:"number",placeholder:"Weight",step:"0.01",invalid:N.weight&&!0}),autocomplete:"off"}),N.weight&&e.jsx(se,{children:N.weight.message})]}),e.jsxs(q,{xs:"4",children:[e.jsx(z,{for:"Price Range",children:" Price"}),e.jsx(k,{control:r,defaultValue:"",name:"price",id:"priceeAsync",render:({field:p})=>e.jsx(Le,{...p,type:"number",placeholder:"price",className:"price-input mr-1",invalid:N.price&&!0}),autocomplete:"off"}),N.price&&e.jsx(se,{children:N.price.message})]}),e.jsxs(q,{xs:"4",children:[e.jsx(z,{for:"duty_free",children:"Is Duty Free"}),e.jsx(k,{name:"duty_free",id:"duty_freeAsync",control:r,defaultValue:"",render:({field:p})=>{const a=A.find(s=>s.value===p.value);return e.jsx(Te,{options:A,classNamePrefix:"select",className:N.duty_free?"isInvalid":"none",theme:Oe,...p,value:p.value?a:null,onChange:s=>{p.onChange(s.value)}})},autocomplete:"off"}),N.duty_free&&e.jsx(se,{style:{display:"flex"},children:N.duty_free.message})]})]}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs(Z,{type:"button",color:"primary",className:"btn-prev",onClick:()=>i.previous(),children:[e.jsx(Ie,{size:14,className:"align-middle me-sm-25 me-0"}),e.jsx("span",{className:"align-middle d-sm-inline-block d-none",children:"Previous"})]}),e.jsxs(Z,{type:"submit",color:"primary",className:"btn-next",children:[e.jsx("span",{className:"align-middle d-sm-inline-block d-none",children:"Next"}),e.jsx(xe,{size:14,className:"align-middle ms-sm-25 ms-0"})]})]})]})]})};var ke={exports:{}};(function(i,u){(function(o,l){i.exports=l()})(Ae,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */var o=function(){return o=Object.assign||function(w){for(var j,g=1,v=arguments.length;g<v;g++){j=arguments[g];for(var S in j)Object.prototype.hasOwnProperty.call(j,S)&&(w[S]=j[S])}return w},o.apply(this,arguments)};function l(_){try{if(typeof _.composedPath=="function"){var w=_.composedPath();return w[0]}return _.target}catch{return _.target}}var d={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};function m(_){var w=o(o({},d),_),j,g="flatpickr-confirm";return function(v){return v.config.noCalendar||v.isMobile?{}:o({onKeyDown:function(S,L,P,b){var A=l(b),C=!v.config.time_24hr&&A===v.amPM||v.config.time_24hr&&(v.config.enableSeconds&&A===v.secondElement||!v.config.enableSeconds&&A===v.minuteElement);v.config.enableTime&&b.key==="Tab"&&C?(b.preventDefault(),j.focus()):b.key==="Enter"&&A===j&&v.close()},onReady:function(){j=v._createElement("div",g+" "+(w.showAlways?"visible":"")+" "+w.theme+"Theme",w.confirmText),j.tabIndex=-1,j.innerHTML+=w.confirmIcon,j.addEventListener("click",v.close),v.calendarContainer.appendChild(j),v.loadedPlugins.push("confirmDate")}},w.showAlways?{}:{onChange:function(S,L){var P=v.config.enableTime||v.config.mode==="multiple"||v.loadedPlugins.indexOf("monthSelect")!==-1,b=v.calendarContainer.querySelector("."+g);if(b){if(L&&!v.config.inline&&P&&b)return b.classList.add("visible");b.classList.remove("visible")}}})}}return m})})(ke);var yt=ke.exports;const Se=Ne(yt),_t=({stepper:i})=>{const[u,o]=D.useState(!1),[l,d]=D.useState([]),[m,_]=D.useState(""),[w,j]=D.useState(""),[g,v]=D.useState(!1),[S,L]=D.useState(!1),[P,b]=D.useState(!1),[A,C]=D.useState(!1),r=fe(),{filterKey:K,setFilterKey:N,getSuggestionsByFilterKey:O}=at(l),ee=(n,t)=>n&&t?re(t).isSameOrAfter(n):!0,p=he().shape({departure_country:V().required("Departure Country is required"),departure_city:V().required("Departure City is required"),departure_airport:V().required("Departure Airport is required").test("departure-airport-required","Departure Airport is required",function(n){return(n==null?void 0:n.length)>0&&(departure_airport==null?void 0:departure_airport.value.length)>0}),arrival_country:V().required("Arrival Country is required"),arrival_city:V().required("Arrival City is required"),arrival_airport:V().required("Arrival Airport is required").test("arrival-airport-required","Arrival Airport is required",function(n){return(n==null?void 0:n.length)>0&&(arrival_airport==null?void 0:arrival_airport.value.length)>0}),departure_date:we().required("Departure Date Time is required").transform((n,t)=>t?re(t).toDate():n).typeError("Departure Date Time is required").min(new Date,"Start Date must be later than today"),arrival_date:we().required("Arrival Date Time is required").transform((n,t)=>t?re(t).toDate():n).test("departure-after-arrival","End date must be after start date",function(n){const t=this.parent.departure_date;return ee(t,n)})}),[a,s]=D.useState(!1),[c,f]=D.useState(!1),{control:h,handleSubmit:T,formState:{errors:y}}=me({resolver:ve(p),shouldFocusError:!1}),B=E(n=>{var t;return(t=n.useDealData)==null?void 0:t.departure_country_id}),M=E(n=>{var t;return(t=n.useDealData)==null?void 0:t.departure_city_id}),ie=E(n=>{var t;return(t=n.useDealData)==null?void 0:t.arrival_country_id}),qe=E(n=>{var t;return(t=n.useDealData)==null?void 0:t.arrival_city_id}),ze=E(n=>{var t;return(t=n.useDealData)==null?void 0:t.departure_airport_id}),Fe=E(n=>{var t;return(t=n.useDealData)==null?void 0:t.departure_airport_id}),Re=E(n=>{var t;return((t=n.useDealData)==null?void 0:t.departureDate)??""}),We=E(n=>{var t;return((t=n.useDealData)==null?void 0:t.arrivalDate)??""}),Be=E(n=>{var t;return((t=n.useDealData)==null?void 0:t.departureCity)??""}),$e=E(n=>{var t;return((t=n.useDealData)==null?void 0:t.departureAirport)??""}),Ve=E(n=>{var t;return((t=n.useDealData)==null?void 0:t.arrivalCity)??""}),Me=E(n=>{var t;return((t=n.useDealData)==null?void 0:t.arrivalAirport)??""}),{debouncedFetchCountries:Ce}=nt(w,K,B,M,ie,qe,ze,Fe,d,o,_);D.useEffect(()=>{w===""?(d([]),o(!1)):(o(!0),Ce(w,K))},[w,K,Ce]);const Ye=()=>{ce(y)&&i.next()};return e.jsxs(D.Fragment,{children:[e.jsxs("div",{className:"content-header",children:[e.jsx("h5",{className:"mb-0",children:"Deal Details"}),e.jsx("small",{className:"text-muted",children:"Enter Your Deal Details."})]}),e.jsx(it,{children:e.jsx(ot,{children:e.jsxs(ge,{onSubmit:T(Ye),children:[e.jsxs(X,{children:[e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{className:"form-label",for:"departure_date",children:"Departure Date"}),e.jsxs("div",{className:"date-input-group",children:[e.jsx(k,{control:h,id:"departure_dateAsync",name:"departure_date",render:({field:n})=>e.jsx("div",{children:e.jsx(Ee,{...n,value:n.value||Re||"","data-enable-time":!0,placeholder:"Departure Date & Time",id:"departure-picker",options:{dateFormat:"Y-m-d H:i",enableTime:!0,plugins:[new Se({})]},className:`form-control ${y.departure_date?"is-invalid":""}`,onChange:(t,x)=>{r(Ge(x)),n.onChange(x)}})}),autocomplete:"off"}),y.departure_date&&e.jsx("div",{className:"text-danger",children:y.departure_date.message})]}),e.jsx("br",{})]}),e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{className:"form-label",for:"arrival_date",children:"Arrival Date"}),e.jsxs("div",{className:"date-input-group",children:[e.jsx(k,{control:h,id:"arrival_dateAsync",name:"arrival_date",render:({field:n})=>e.jsx("div",{children:e.jsx(Ee,{...n,value:n.value||We||"","data-enable-time":!0,id:"arrival-picker",placeholder:"Arrival Date & Time",options:{dateFormat:"Y-m-d H:i",enableTime:!0,plugins:[new Se({})]},className:`form-control ${y.arrival_date?"is-invalid":""}`,onChange:(t,x)=>{r(Je(x)),n.onChange(x)}})}),autocomplete:"off"}),y.arrival_date&&e.jsx("div",{className:"text-danger",children:y.arrival_date.message})]})]})]}),e.jsxs(X,{children:[e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{for:"departure_country",children:"Departure Country"}),e.jsx(k,{control:h,name:"departure_country",defaultValue:"",render:({field:n})=>e.jsx(J,{...n,loading:u,suggestions:O("departureCountry"),className:"form-control",errorMessage:m,filterKey:"nicename",suggestionLimit:5,id:"departure_country",autocomplete:"off",placeholder:"Type a country name...",onSelectSuggestion:t=>{n.onChange(t.id),r(ae(t.id)),r(Xe(t.nicename)),v(!0)},onChange:t=>{if(j(t.target.value),t.target.value==="")n.onChange(""),r(ae(null)),r(oe("")),r(Q(0)),v(!1),r(H("")),r(W(0)),L(!1);else{const x=O("departureCountry").find(R=>R.nicename.toLowerCase()===t.target.value.toLowerCase());x?(n.onChange(x.id),r(ae(x.id)),v(!0)):(n.onChange(""),r(ae(null)),r(oe("")),r(Q(0)),v(!1),r(H("")),r(W(0)),L(!1))}N("departureCountry"),_("")}})}),y.departure_country&&e.jsx("div",{className:"text-danger",children:y.departure_country.message})]}),e.jsx("br",{}),e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{for:"arrival_country",children:"Arrival Country"}),e.jsx(k,{control:h,name:"arrival_country",defaultValue:"",render:({field:n})=>e.jsx(J,{...n,loading:u,suggestions:O("arrivalCountry"),className:"form-control",errorMessage:m,filterKey:"nicename",suggestionLimit:5,id:"arrival_country",autocomplete:"off",placeholder:"Type a country name...",onSelectSuggestion:t=>{n.onChange(t.id),r(ne(t.id)),r(Ze(t.nicename)),b(!0)},onChange:t=>{if(j(t.target.value),t.target.value==="")n.onChange(""),r(ne(null)),r(le("")),r(G(0)),b(!1),r(U("")),r($(0)),C(!1);else{const x=O("arrivalCountry").find(R=>R.nicename.toLowerCase()===t.target.value.toLowerCase());x?(n.onChange(x.id),r(ne(x.id)),b(!0)):(n.onChange(""),r(ne(null)),r(le("")),r(G(0)),b(!1),r(U("")),r($(0)),C(!1))}N("arrivalCountry"),_("")}})}),y.arrival_country&&e.jsx("div",{className:"text-danger",children:y.arrival_country.message}),e.jsx("br",{})]})]}),e.jsxs(X,{children:[e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{for:"departure_city",children:"Departure City"}),e.jsx(k,{control:h,name:"departure_city",defaultValue:"",render:({field:n})=>e.jsx(J,{...n,loading:u,suggestions:O("departureCity"),className:"form-control",filterKey:"name",suggestionLimit:5,id:"departure_city",autocomplete:"off",disabled:!g,value:Be,placeholder:"Type a city name...",onSelectSuggestion:t=>{n.onChange(t.id),r(Q(t.id)),r(oe(t.name)),L(!0)},onChange:t=>{if(j(t.target.value),t.target.value==="")n.onChange(""),r(Q(null)),r(H("")),r(W(0)),L(!1);else{const x=O("departureCity").find(R=>R.name.toLowerCase()===t.target.value.toLowerCase());x?(n.onChange(x.id),r(Q(x.id)),L(!0)):(n.onChange(""),r(Q(null)),r(H("")),r(W(0)),L(!1))}N("departureCity"),_("")}})}),y.departure_city&&e.jsx("div",{className:"text-danger",children:y.departure_city.message})]}),e.jsx("br",{}),e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{for:"arrival_city",children:"Arrival City"}),e.jsx(k,{control:h,name:"arrival_city",defaultValue:"",render:({field:n})=>e.jsx(J,{...n,loading:u,suggestions:O("arrivalCity"),className:"form-control",filterKey:"name",suggestionLimit:5,id:"arrival_city",value:Ve,autocomplete:"off",disabled:!P,placeholder:"Type a city name...",onSelectSuggestion:t=>{n.onChange(t.id),r(G(t.id)),r(le(t.name)),C(!0)},onChange:t=>{if(j(t.target.value),t.target.value==="")n.onChange(""),r(G(null)),r(U("")),r($(0)),C(!1);else{const x=O("arrivalCity").find(R=>R.name.toLowerCase()===t.target.value.toLowerCase());x?(n.onChange(x.id),r(G(x.id)),C(!0)):(n.onChange(""),r(G(null)),r(U("")),r($(0)),C(!1))}N("arrivalCity"),_("")}})}),y.arrival_city&&e.jsx("div",{className:"text-danger",children:y.arrival_city.message}),e.jsx("br",{})]})]}),e.jsxs(X,{children:[e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{for:"departure_airport",children:"Departure Airport"}),e.jsx(k,{control:h,name:"departure_airport",id:"departure_airport",defaultValue:"",render:({field:n})=>e.jsx(J,{...n,loading:u,suggestions:O("departureAirports"),className:"form-control",filterKey:"airport_name",suggestionLimit:5,id:"departure_airport",autocomplete:"off",disabled:!S,value:$e,placeholder:"Type a airport name...",onSelectSuggestion:t=>{f(!1),s(!1),n.onChange(t.id),r(W(t.id)),r(H(t.airport_name)),(arrival_airport==null?void 0:arrival_airport.value)===t.airport_name&&(r(U("")),r($(0)),f(!0),arrival_airport.value="")},onChange:t=>{if(f(!1),s(!1),j(t.target.value),t.target.value==="")n.onChange(""),r(W(null));else{const x=O("departureAirports").find(R=>R.airport_name.toLowerCase()===t.target.value.toLowerCase());x?(n.onChange(x.id),r(W(x.id)),(arrival_airport==null?void 0:arrival_airport.value)===x.airport_name&&(r(U("")),r($(0)),f(!0),arrival_airport.value="")):(n.onChange(""),r(W(null)))}N("departureAirports"),_("")}})}),y.departure_airport&&e.jsx("div",{className:"text-danger",children:y.departure_airport.message}),c&&e.jsx("div",{class:"text-danger",children:"Departure Airport can not be the same as the Arrival Airport "}),e.jsx("br",{})]}),e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(z,{for:"arrival_airport",children:"Arrival Airport"}),e.jsx(k,{control:h,name:"arrival_airport",defaultValue:"",render:({field:n})=>e.jsx(J,{...n,loading:u,suggestions:O("arrivalAirports"),className:"form-control",filterKey:"airport_name",suggestionLimit:5,id:"arrival_airport",value:Me,autocomplete:"off",disabled:!A,placeholder:"Type a airport name...",onSelectSuggestion:t=>{f(!1),s(!1),n.onChange(t.id),r($(t.id)),r(U(t.airport_name)),(departure_airport==null?void 0:departure_airport.value)===t.airport_name&&(s(!0),r(H("")),r(W(0)),departure_airport.value="")},onChange:t=>{f(!1),s(!1),j(t.target.value);const x=O("arrivalAirports").find(R=>R.airport_name.toLowerCase()===t.target.value.toLowerCase());x?(n.onChange(x.id),r($(x.id)),(departure_airport==null?void 0:departure_airport.value)===x.airport_name&&(s(!0),r(H("")),r(W(0)),departure_airport.value="")):(n.onChange(""),r($(null))),N("arrivalAirports"),_("")}})}),y.arrival_airport&&e.jsx("div",{className:"text-danger",children:y.arrival_airport.message}),a&&e.jsx("div",{class:"text-danger",children:" Arrival Airport can not be the same as the Departure Airport "})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs(Z,{type:"button",color:"primary",className:"btn-prev",onClick:()=>i.previous(),children:[e.jsx(Ie,{size:14,className:"align-middle me-sm-25 me-0"}),e.jsx("span",{className:"align-middle d-sm-inline-block d-none",children:"Previous"})]}),e.jsxs(Z,{type:"submit",color:"primary",className:"btn-next",disabled:!ce(y),children:[e.jsx("span",{className:"align-middle d-sm-inline-block d-none",children:"Next"}),e.jsx(xe,{size:14,className:"align-middle ms-sm-25 ms-0"})]})]})]})})})]})},xt=({stepper:i})=>{const[u,o]=D.useState(null),[l,d]=D.useState(null),m=fe(),_=[{name:"Airline Baggage Delivery",value:0,disabled:!1},{name:"Car/Truck Delivery",value:1,disabled:!0},{name:"Coupons",value:2,disabled:!0},{name:"Vacation",value:3,disabled:!0}],w=[{value:"baggage",label:"Baggage"},{value:"hand_luggage",label:"Hand Luggage"},{value:"document",label:"Document"}],j=b=>{o(u===b?null:b.value)},g=he().shape({baggage_type:u!==null?V().required("Baggage Type is required"):V()}),{control:v,handleSubmit:S,formState:{errors:L}}=me({resolver:ve(g)}),P=()=>{ce(L)&&i.next()};return e.jsxs(ge,{onSubmit:S(P),children:[e.jsxs("div",{className:"content-header",children:[e.jsx("h5",{className:"mb-0",children:"Deal Type"}),e.jsx("small",{children:"Select a deal type to proceed."})]}),e.jsx(X,{children:_.map(b=>e.jsxs(q,{md:"6",className:"mb-1",children:[e.jsx(Z,{color:u===b.value?"primary":"secondary",block:!0,disabled:b.disabled,onClick:()=>j(b),children:b.name}),u===0&&b.value===0&&e.jsxs(D.Fragment,{children:[e.jsx(z,{for:"baggage_type",children:"Select Baggage Type"}),e.jsx(k,{name:"baggage_type",id:"baggage_typeAsync",control:v,defaultValue:"",render:({field:A})=>{const C=w.find(r=>r.value===A.value);return e.jsx(Te,{options:w,classNamePrefix:"select",className:L.baggage_type?"isInvalid":"none",theme:Oe,...A,value:A.value?C:null,onChange:r=>{A.onChange(r.value),d(r.value),m(et(r.value))}})},autocomplete:"off"}),L.baggage_type&&e.jsx(se,{style:{display:"flex"},children:L.baggage_type.message})]})]},b.value))}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsxs(Z,{type:"submit",color:"primary",className:"btn-next",disabled:u===null||u!==null&&l===null,children:[e.jsx("span",{className:"align-middle d-sm-inline-block d-none",children:"Next"}),e.jsx(xe,{size:14,className:"align-middle ms-sm-25 ms-0"})]})})]})},kt=()=>{const i=D.useRef(null),[u,o]=D.useState(null),l=[{id:"deal-type",title:"Deal Type",subtitle:"Chose Deal Type.",content:e.jsx(xt,{stepper:u})},{id:"deal-details",title:"Deal Details",subtitle:"Enter Your Deal Details.",content:e.jsx(_t,{stepper:u})},{id:"baggage-info",title:"Baggage Info",subtitle:"Enter Your Baggage Info.",content:e.jsx(gt,{stepper:u})}];return e.jsx("div",{className:"horizontal-wizard",children:e.jsx(je,{instance:d=>o(d),ref:i,steps:l})})};export{kt as default};
