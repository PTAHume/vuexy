import{r as h,d as N,P as x,D as be,w as e,b as _,B as de,j as Ne,aM as ye,aN as we,aO as Se,aP as Ce,aQ as he,aR as ke,aS as Oe,aT as Me,aU as ue,aV as Le,aW as pe,s as me,aX as _e,aY as $e}from"./index-330b6611.js";import{a as Y,k as R,l as ze,A as P,t as E,U as De,D as Ee,b as Ie,c as U,X as A,v as Pe,B as Ue,M as Te,w as We}from"./App-5e485e8a.js";import{F as Re}from"./Form-4bf9a75b.js";import{I as F,L as qe}from"./Label-ec94fc16.js";import{I as ge,a as xe}from"./InputGroupText-fd896844.js";import{E as Ae,M as Fe,T as Be}from"./echo-3864ddd2.js";import"./pusher-ef6f9223.js";import{M as He,S as je}from"./search-64e2dc99.js";import{C as Ge}from"./CardText-a992b6c0.js";function B(){return B=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},B.apply(this,arguments)}function Ve(s,a){if(s==null)return{};var r=Xe(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Xe(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var Q=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=Ve(s,["color","size"]);return N.createElement("svg",B({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),N.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),N.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))});Q.propTypes={color:x.string,size:x.oneOfType([x.string,x.number])};Q.displayName="Bell";const Ye=Q;function H(){return H=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},H.apply(this,arguments)}function Qe(s,a){if(s==null)return{};var r=Ke(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ke(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var K=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=Qe(s,["color","size"]);return N.createElement("svg",H({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),N.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),N.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),N.createElement("polyline",{points:"21 15 16 10 5 21"}))});K.propTypes={color:x.string,size:x.oneOfType([x.string,x.number])};K.displayName="Image";const G=K;function V(){return V=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},V.apply(this,arguments)}function Je(s,a){if(s==null)return{};var r=Ze(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ze(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var J=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=Je(s,["color","size"]);return N.createElement("svg",V({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),N.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),N.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});J.propTypes={color:x.string,size:x.oneOfType([x.string,x.number])};J.displayName="Send";const es=J;function X(){return X=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},X.apply(this,arguments)}function ss(s,a){if(s==null)return{};var r=as(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function as(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var Z=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=ss(s,["color","size"]);return N.createElement("svg",X({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),N.createElement("circle",{cx:"12",cy:"12",r:"10"}),N.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))});Z.propTypes={color:x.string,size:x.oneOfType([x.string,x.number])};Z.displayName="Slash";const ts=Z,fe=new be,rs=(s,a,r)=>{h.useEffect(()=>{let t;async function n(){const i=new Ae({broadcaster:"pusher",key:"alikoza",cluster:"mt1",encrypted:!1,wsHost:"api.dealmanager.co.uk",wsPort:6004,wssPort:6004,disableStats:!0,forceTLS:!1,authEndpoint:`${fe.baseurl().replace(/\s/g,"")}/api/front/subscribeToChat`,authorizer:m=>({authorize:async(f,p)=>{try{const u=await fe.subscribeToChat(f,m.name);p(!1,u.data),a(u)}catch(u){p(!0,u),s(u)}}})}),d=i.private("chats");d.listen(".App\\Events\\Chat\\ChatListUpdated",m=>{r(m)}),t=()=>{d.stopListening(".App\\Events\\Chat\\ChatListUpdated"),i.disconnect()}}return n(),()=>{t&&t()}},[])},ns=s=>{var te,re,ne,ie,le,ce;const{handleUser:a,handleUserSidebarRight:r,handleSidebar:t,store:n,userSidebarLeft:i}=s,{userProfile:d,selectedUser:m,selectedChatUniqueId:f}=n,p=h.useRef(null),u=Y(),[M,I]=h.useState(""),$=localStorage.getItem("skin"),z=()=>{const l=Ne.findDOMNode(p.current);l.scrollTop=Number.MAX_SAFE_INTEGER},c=m.find(l=>l.id===f),C=(re=(te=c==null?void 0:c.data)==null?void 0:te.chat)==null?void 0:re.id,k=n.oldestMessageId,q=(le=(ie=(ne=c==null?void 0:c.data)==null?void 0:ne.contact)==null?void 0:ie.chat)==null?void 0:le.firstMessage;rs(l=>{l.response&&l.response.status},l=>{},async l=>{u(ke(l&&l.chats));const D={id:l.chats.newMessageData.message_id,chat_id:l.chats.id,message:l.chats.newMessageData.message,time:l.chats.newMessageData.time,sender_id:l.chats.newMessageData.senderId};await u(he(m.map(g=>g.data.chat.unique_id===f?{...g,data:{...g.data,chat:{...g.data.chat,chat:[...g.data.chat.chat,D]}}}:g)))}),h.useEffect(()=>{console.log("selectedUser state in onDataReceived: ",m)},[m]);const v=async()=>{try{await u(ye()),await u(we({chatId:C,oldestMessageId:k||q||null}))}catch(l){console.error("Error in loadMoreMsgs:",l)}finally{u(Se())}};h.useEffect(()=>{c&&Object.keys(c).length&&z()},[c]);const o=()=>{var O;let l=[];c.data.chat&&(l=(O=c.data.chat)==null?void 0:O.chat);const D=[];let g=l[0]?l[0].sender_id:void 0,S={sender_id:g,messages:[]};return l.forEach((b,W)=>{g===b.sender_id?S.messages.push({msg:b.message,time:b.time,id:b.id,status:b.status}):(g=b.sender_id,D.push(S),S={sender_id:b.sender_id,messages:[{msg:b.message,time:b.time,id:b.id,status:b.status}]}),W===l.length-1&&D.push(S)}),D},j=()=>o().map((l,D)=>e.jsxs("div",{className:_("chat",{"chat-left":l.sender_id!==d.id}),children:[e.jsx("div",{className:"chat-avatar",children:e.jsx(P,{imgWidth:36,imgHeight:36,className:"box-shadow-1 cursor-pointer",img:l.sender_id!==d.id?`${E}/${c.data.contact.avatar}`:`${E}/${d.image}`})}),e.jsx("div",{className:"chat-body",children:l.messages.map(g=>{const S=new Date(g.time),O=`${S.getDate()} ${S.toLocaleString("default",{month:"long"})}, ${S.getFullYear()}`;return e.jsxs("div",{className:"chat-content",children:[e.jsx("p",{children:g.msg}),e.jsx("small",{style:{fontSize:"8px",color:$==='"dark"'?"#fefe":"#000",fontStyle:"italic"},children:g.status??O})]},g.id)})})]},`${l.sender_id}-${l.messages[0].id}`)),y=l=>{r(),a(l)},w=()=>{!Object.keys(c).length&&!i&&window.innerWidth<992&&t()},T=async l=>{const S=Math.floor(Math.random()*-98)+-1;if(l.preventDefault(),M.trim().length){const O=new Date,b=`${O.getDate()} ${O.toLocaleString("default",{month:"long"})}, ${O.getFullYear()}`,W={id:S,chat_id:c.data.chat.id,message:M,time:O.toISOString(),sender_id:d.id,status:b},oe=m.find(L=>L.data.chat.unique_id===f);oe&&(await u(Ce({...oe,message:W})),await u(he(m.map(L=>L.data.chat.unique_id===f?{...L,data:{...L.data,chat:{...L.data.chat,chat:[...L.data.chat.chat,W]}}}:L)))),I("")}},ve=c&&Object.keys(c).length&&((ce=c==null?void 0:c.data)!=null&&ce.chat)?R:"div";return e.jsxs("div",{className:"chat-app-window",children:[e.jsxs("div",{className:_("start-chat-area",{"d-none":c&&Object.keys(c).length}),children:[e.jsx("div",{className:"start-chat-icon mb-1",children:e.jsx(He,{})}),e.jsx("h4",{className:"sidebar-toggle start-chat-text",onClick:w,children:"Start Conversation"})]}),c&&Object.keys(c).length?e.jsxs("div",{className:_("active-chat",{"d-none":c===null}),children:[e.jsx("div",{className:"chat-navbar",children:e.jsxs("header",{className:"chat-header",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"sidebar-toggle d-block d-lg-none me-1",onClick:t,children:e.jsx(ze,{size:21})}),e.jsx(P,{imgHeight:"36",imgWidth:"36",img:`${E}/${c.data.contact.avatar}`,status:c.data.contact.status,className:"avatar-border user-profile-toggle m-0 me-1",onClick:()=>y(c.data.contact)}),e.jsx("h6",{className:"mb-0",children:c.data.contact.fullName})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(je,{size:18,className:"cursor-pointer d-sm-block d-none"}),e.jsxs(De,{className:"more-options-dropdown",children:[e.jsx(Ee,{className:"btn-icon",color:"transparent",size:"sm",children:e.jsx(Fe,{size:"18"})}),e.jsxs(Ie,{end:!0,children:[e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"View Contact"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Mute Notifications"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Block Contact"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Clear Chat"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Report"})]})]})]})]})}),e.jsxs(ve,{ref:p,className:"user-chats",options:{wheelPropagation:!1},children:[e.jsx(de,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},onClick:()=>v(),disabled:k==="FINISHED",children:k==="FINISHED"?"No more messages":"Load More Messages"}),n.isLoadingMoreMsg?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):c.data.chat?e.jsx("div",{className:"chats",children:j()}):null]}),e.jsxs(Re,{className:"chat-app-form",onSubmit:l=>T(l),children:[e.jsxs(ge,{className:"input-group-merge me-1 form-send-message",children:[e.jsx(F,{value:M,onChange:l=>I(l.target.value),placeholder:"Type your message or use speech to text"}),e.jsx(xe,{children:e.jsxs(qe,{className:"attachment-icon mb-0",for:"attach-doc",children:[e.jsx(G,{className:"cursor-pointer text-secondary",size:14}),e.jsx("input",{type:"file",id:"attach-doc",hidden:!0})]})})]}),e.jsxs(de,{className:"send",color:"primary",children:[e.jsx(es,{size:14,className:"d-lg-none"}),e.jsx("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},is=s=>{const{store:a,sidebar:r,handleSidebar:t,userSidebarLeft:n,handleUserSidebarLeft:i}=s,{chats:d,contacts:m,userProfile:f}=a,p=Y(),[u,M]=h.useState("");h.useState("");const[I,$]=h.useState({chatId:null,userId:null,uniqueId:null}),[z,c]=h.useState([]),[C,k]=h.useState([]),q=v=>Object.keys(v).length===0&&v.constructor===Object,ee=async v=>{var y;const o=d.find(w=>w.unique_id===v),j=a.selectedUser.find(w=>{var T;return w.data.chat.id===((T=o.chat)==null?void 0:T.id)});if(!j||j.data.chat.id!==((y=o.chat)==null?void 0:y.id))try{await p(Oe()),await p(Me(o==null?void 0:o.unique_id)),await p(ue(o==null?void 0:o.unique_id)),await p(Le(null))}catch(w){console.error("Error in handleUserClick:",w)}finally{p(pe())}else $({chatId:j.data.chat.id,userId:j.data.contact.id,uniqueId:j.id}),await p(ue(o==null?void 0:o.unique_id));r===!0&&t()};h.useEffect(()=>{var v,o,j;if(!q(a.selectedUser)){const y=a.selectedUser.find(w=>w.data.chat.unique_id===a.selectedChatUniqueId);y&&$({chatId:(v=y.data.chat)==null?void 0:v.id,userId:(o=y.data.contact)==null?void 0:o.id,uniqueId:(j=y.data.chat)==null?void 0:j.unique_id})}},[a.selectedUser,a.selectedChatUniqueId]);const se=()=>d&&d.length?u.length&&!z.length?e.jsx("li",{className:"no-results show",children:e.jsx("h6",{className:"mb-0",children:"No Chats Found"})}):(u.length&&z.length?z:d).map(o=>{const j=Pe(o.chat.lastMessage?o.chat.lastMessage.time:new Date);return e.jsxs("li",{onClick:()=>ee(o.unique_id),className:_({active:I.uniqueId===o.unique_id}),children:[e.jsx(P,{img:`${E}/${o.avatar}`,imgHeight:"42",imgWidth:"42",status:o.status}),e.jsxs("div",{className:"chat-info flex-grow-1",children:[e.jsx("h5",{className:"mb-0",children:o.about}),e.jsx(Ge,{className:"text-truncate",children:o.chat.lastMessage?o.chat.lastMessage.message:d[d.length-1].message})]}),e.jsxs("div",{className:"chat-meta text-nowrap",children:[e.jsx("small",{className:"float-end mb-25 chat-time ms-25",children:j}),o.chat.unseenMsgsForUser>=1&&f.id!==o.chat.lastMessage.senderId?e.jsx(Ue,{className:"float-end",color:"danger",pill:!0,children:o.chat.unseenMsgsForUser}):null]})]},`${o.chat.id}_${o.id}`)}):null,ae=v=>{M(v.target.value);const o=w=>w.fullName.toLowerCase().includes(v.target.value.toLowerCase()),j=d==null?void 0:d.filter(o),y=m==null?void 0:m.filter(o);Array.isArray(j)?c([...j]):c([]),Array.isArray(y)?k([...y]):k([])};return a?e.jsx("div",{className:"sidebar-left",children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"sidebar",children:[e.jsxs("div",{className:_("chat-profile-sidebar",{show:n}),children:[e.jsxs("header",{className:"chat-profile-header",children:[e.jsx("div",{className:"close-icon",onClick:i,children:e.jsx(A,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(P,{className:"box-shadow-1 avatar-border",img:`${E}/${f.image}`,status:f.online_status,size:"xl"}),e.jsx("h4",{className:"chat-user-name",children:f.fullName}),e.jsx("span",{className:"user-post",children:f.role})]})]}),e.jsxs(R,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Ye,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Notification"})]}),e.jsx("div",{className:"form-switch",children:e.jsx(F,{type:"switch",id:"notifications",name:"notifications"})})]}),e.jsxs("li",{className:"d-flex align-items-center cursor-pointer",children:[e.jsx(Be,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Delete Chat"})]})]})]})]}),e.jsxs("div",{className:_("sidebar-content",{show:r===!0}),children:[e.jsx("div",{className:"sidebar-close-icon",onClick:t,children:e.jsx(A,{size:14})}),e.jsx("div",{className:"chat-fixed-search",children:e.jsxs("div",{className:"d-flex align-items-center w-100",children:[e.jsx("div",{className:"sidebar-profile-toggle",onClick:i,children:Object.keys(f).length?e.jsx(P,{className:"avatar-border",img:`${E}/${f.image}`,status:f.online_status,imgHeight:"42",imgWidth:"42"}):null}),e.jsxs(ge,{className:"input-group-merge ms-1 w-100",children:[e.jsx(xe,{className:"round",children:e.jsx(je,{className:"text-muted",size:14})}),e.jsx(F,{value:u,className:"round",placeholder:"Search or start a new chat",onChange:ae})]})]})}),e.jsxs(R,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[e.jsx("h4",{className:"chat-list-title",children:"Airline Baggages"}),e.jsx("ul",{className:"chat-users-list chat-list media-list",children:se()}),e.jsx("h4",{className:"chat-list-title",children:"Hotels"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"}),e.jsx("h4",{className:"chat-list-title",children:"Coupons"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"})]})]})]})})}):null},ls=s=>{const{user:a,handleUserSidebarRight:r,userSidebarRight:t}=s;return e.jsxs("div",{className:_("user-profile-sidebar",{show:t===!0}),children:[e.jsxs("header",{className:"user-profile-header",children:[e.jsx("span",{className:"close-icon",onClick:r,children:e.jsx(A,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(P,{className:"box-shadow-1 avatar-border",size:"xl",status:a.status,img:a.avatar?`${E}/${a.avatar}`:"",imgHeight:"70",imgWidth:"70"}),e.jsx("h4",{className:"chat-user-name",children:a.fullName}),e.jsx("span",{className:"user-post",children:a.role})]})]}),e.jsxs(R,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1",children:"Delivery Details"}),e.jsx("p",{children:a.about}),e.jsx("p",{children:a.departure_date}),e.jsx("p",{children:a.arrival_date}),e.jsx("p",{children:a.flight_number??"Not mentioned"}),e.jsxs("p",{children:[a.weight," Kg"]}),e.jsxs("p",{children:[a.price,"$"]}),e.jsxs("div",{className:"personal-info",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),e.jsx("ul",{className:"list-unstyled",children:e.jsxs("li",{className:"mb-1",children:[e.jsx(Te,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:a.user_authenticated===1?"Authenticated":"Unatuhenticated"})]})})]}),e.jsxs("div",{className:"more-options",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Options"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(G,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Seller Profile"})]}),e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(G,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Offer"})]}),e.jsxs("li",{className:"cursor-pointer",children:[e.jsx(ts,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};const xs=()=>{const s=me(C=>We(C)),a=me(C=>C.chatData),r=Y(),[t,n]=h.useState({}),[i,d]=h.useState(!1),[m,f]=h.useState(!1),[p,u]=h.useState(!1),M=()=>d(!i),I=()=>u(!p),$=()=>f(!m),z=()=>{d(!1),f(!1),u(!1)},c=C=>n(C);return h.useEffect(()=>{(async()=>{try{await Promise.all([r(_e()).unwrap(),r($e(s.id)).unwrap()])}catch(k){console.error("Error fetching data:",k)}finally{r(pe())}})()},[r,s.id]),e.jsx(h.Fragment,{children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsxs(e.Fragment,{children:[e.jsx(is,{store:a,sidebar:i,handleSidebar:M,userSidebarLeft:p,handleUserSidebarLeft:I}),e.jsx("div",{className:"content-right",children:e.jsx("div",{className:"content-wrapper",children:e.jsxs("div",{className:"content-body",children:[e.jsx("div",{className:_("body-content-overlay",{show:m===!0||i===!0||p===!0}),onClick:z}),e.jsx(ns,{store:a,handleUser:c,handleSidebar:M,userSidebarLeft:p,handleUserSidebarRight:$}),e.jsx(ls,{user:t,userSidebarRight:m,handleUserSidebarRight:$})]})})})]})})};export{xs as default};
