import{r as m,d as w,P as p,w as e,b as $,B as ce,aM as B,Q as de,aN as ye,aO as we,aP as Se,aQ as Ce,aR as ke,aS as Oe,aT as _e,aU as Me,aV as he,aW as $e,aX as me,s as ue,aY as De,aZ as Le}from"./index-6736e959.js";import{a as Z,k as q,l as ze,A as I,t as z,U as Pe,D as Ee,b as Ie,c as W,X as H,v as Ue,B as We,M as Te,w as qe}from"./App-ba29df34.js";import{F as Re}from"./Form-f00f9449.js";import{I as Y,L as Fe}from"./Label-d795f227.js";import{I as ge,a as fe}from"./InputGroupText-5b2d5a0e.js";import{u as Ae,M as Be,T as He}from"./useSubscribeToChannel-039abe2d.js";import{M as Ye,S as pe}from"./search-b5b86180.js";import{C as Ge}from"./CardText-1ed6f112.js";import"./pusher-ef6f9223.js";function G(){return G=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},G.apply(this,arguments)}function Qe(s,a){if(s==null)return{};var r=Ve(s,a),t,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(n=0;n<l.length;n++)t=l[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ve(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,l;for(l=0;l<t.length;l++)n=t[l],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var J=m.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,l=n===void 0?24:n,d=Qe(s,["color","size"]);return w.createElement("svg",G({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),w.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))});J.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};J.displayName="Bell";const Xe=J;function Q(){return Q=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},Q.apply(this,arguments)}function Ke(s,a){if(s==null)return{};var r=Ze(s,a),t,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(n=0;n<l.length;n++)t=l[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ze(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,l;for(l=0;l<t.length;l++)n=t[l],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var ee=m.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,l=n===void 0?24:n,d=Ke(s,["color","size"]);return w.createElement("svg",Q({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),w.createElement("polyline",{points:"21 15 16 10 5 21"}))});ee.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};ee.displayName="Image";const V=ee;function X(){return X=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},X.apply(this,arguments)}function Je(s,a){if(s==null)return{};var r=es(s,a),t,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(n=0;n<l.length;n++)t=l[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function es(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,l;for(l=0;l<t.length;l++)n=t[l],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var se=m.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,l=n===void 0?24:n,d=Je(s,["color","size"]);return w.createElement("svg",X({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),w.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});se.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};se.displayName="Send";const ss=se;function K(){return K=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},K.apply(this,arguments)}function as(s,a){if(s==null)return{};var r=ts(s,a),t,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(n=0;n<l.length;n++)t=l[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function ts(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,l;for(l=0;l<t.length;l++)n=t[l],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var ae=m.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,l=n===void 0?24:n,d=as(s,["color","size"]);return w.createElement("svg",K({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))});ae.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};ae.displayName="Slash";const rs=ae,ns=s=>{var te,re,ne,ie,le,oe;const{handleUser:a,handleUserSidebarRight:r,handleSidebar:t,store:n,userSidebarLeft:l}=s,{userProfile:d,selectedUser:S,selectedChatUniqueId:f,enableSendMessage:x}=n,_=m.useRef(),j=Z(),[D,M]=m.useState(""),L=localStorage.getItem("skin"),P=()=>{var g;const i=((g=_.current)==null?void 0:g._container)||_.current;i.scrollTop=Number.MAX_SAFE_INTEGER},o=S.find(i=>i.id===f),E=(re=(te=o==null?void 0:o.data)==null?void 0:te.chat)==null?void 0:re.id,U=n.oldestMessageId,R=(le=(ie=(ne=o==null?void 0:o.data)==null?void 0:ne.contact)==null?void 0:ie.chat)==null?void 0:le.firstMessage,F=i=>{console.log("success",i)},A=i=>{i.response&&i.response.status},y=async(i,g,k,h)=>{await i(Oe(g.map(b=>{if(b.data.chat.unique_id===k){const u={...b,data:{...b.data,chat:{...b.data.chat}}};return u.data.chat.chat.find(N=>N.id===h.original_id)?u.data.chat.chat=u.data.chat.chat.map(N=>N.id===h.original_id?{...N,id:h.id}:N):u.data.chat.chat=b.data.chat.chat.concat([h]),u}return b})))};Ae("chats",A,F,async(i,g)=>{if(console.log("ondataReceived in onDataReceived: ",i),i.chat.rateLimitStatuses.length>0){const h=i.chat.rateLimitStatuses.find(b=>b.user_id===d.id);if(h){if((h==null?void 0:h.button)==="disabled"&&x===!0){j(B(!1)),de.info("Too many consecutive requests made in too sort a time span! Please wait a moment before trying again, you will be notified when you can send a message again");return}else if((h==null?void 0:h.button)==="enabled"&&x===!1){j(B(!0)),de.info("You may continue sending messages agin now, please be mindful not to spam chat!");return}return}}j(B(!0)),j(ye(i==null?void 0:i.chat));const k={id:i.chat.newMessageData.message_id,chat_id:i.chat.id,message:i.chat.newMessageData.message,sender_id:i.chat.newMessageData.senderId,original_id:i.chat.newMessageData.original_id,time:i.chat.newMessageData.time};await y(j,g,f,k)},S);const v=async()=>{try{await j(we()),await j(Se({chatId:E,oldestMessageId:U||R||null}))}catch(i){console.error("Error in loadMoreMsgs:",i)}finally{j(Ce())}};m.useEffect(()=>{o&&Object.keys(o).length&&P()},[o]);const C=()=>{var b;let i=[];o.data.chat&&(i=(b=o.data.chat)==null?void 0:b.chat);const g=[];let k=i[0]?i[0].sender_id:void 0,h={sender_id:k,messages:[]};return i.forEach((u,N)=>{k===u.sender_id?h.messages.push({msg:u.message,time:u.time,id:u.id,status:u.status}):(k=u.sender_id,g.push(h),h={sender_id:u.sender_id,messages:[{msg:u.message,time:u.time,id:u.id,status:u.status}]}),N===i.length-1&&g.push(h)}),g},O=()=>C().map(i=>e.jsxs("div",{className:$("chat",{"chat-left":i.sender_id!==d.id}),children:[e.jsx("div",{className:"chat-avatar",children:e.jsx(I,{imgWidth:36,imgHeight:36,className:"box-shadow-1 cursor-pointer",img:i.sender_id!==d.id?`${z}/${o.data.contact.avatar}`:`${z}/${d.image}`})}),e.jsx("div",{className:"chat-body",children:i.messages.map(g=>{const k=new Date(g.time),h=`${k.getDate()} ${k.toLocaleString("default",{month:"long"})}, ${k.getFullYear()}`;return e.jsxs("div",{className:"chat-content",children:[e.jsx("p",{children:g.msg}),e.jsx("small",{style:{fontSize:"8px",color:L==='"dark"'?"#fefe":"#000",fontStyle:"italic"},children:g.status??h})]},g.id)})})]},`${i.sender_id}-${i.messages[0].id}`)),T=i=>{r(),a(i)},xe=()=>{!Object.keys(o).length&&!l&&window.innerWidth<992&&t()},je=async i=>{const h=Math.floor(Math.random()*-98)+-1;if(i.preventDefault(),D.trim().length){const b=new Date,u=`${b.getDate()} ${b.toLocaleString("default",{month:"long"})}, ${b.getFullYear()}`,N={id:h,chat_id:o.data.chat.id,message:D,sender_id:d.id,original_id:h,time:u};S.find(Ne=>Ne.data.chat.unique_id===f)&&(await j(ke({message:{request:{data:{id:N.id,chat_id:N.chat_id,message:N.message,sender_id:N.sender_id,original_id:N.original_id,time:N.time}}}})),await y(j,S,f,N)),M("")}},ve=o&&Object.keys(o).length&&((oe=o==null?void 0:o.data)!=null&&oe.chat)?q:"div",be=(i,g)=>i.data.chat?e.jsx("div",{className:"chats",children:g()}):null;return e.jsxs("div",{className:"chat-app-window",children:[e.jsxs("div",{className:$("start-chat-area",{"d-none":o&&Object.keys(o).length}),children:[e.jsx("div",{className:"start-chat-icon mb-1",children:e.jsx(Ye,{})}),e.jsx("h4",{className:"sidebar-toggle start-chat-text",onClick:xe,children:"Start Conversation"})]}),o&&Object.keys(o).length?e.jsxs("div",{className:$("active-chat",{"d-none":o===null}),children:[e.jsx("div",{className:"chat-navbar",children:e.jsxs("header",{className:"chat-header",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"sidebar-toggle d-block d-lg-none me-1",onClick:t,children:e.jsx(ze,{size:21})}),e.jsx(I,{imgHeight:"36",imgWidth:"36",img:`${z}/${o.data.contact.avatar}`,status:o.data.contact.status,className:"avatar-border user-profile-toggle m-0 me-1",onClick:()=>T(o.data.contact)}),e.jsx("h6",{className:"mb-0",children:o.data.contact.fullName})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(pe,{size:18,className:"cursor-pointer d-sm-block d-none"}),e.jsxs(Pe,{className:"more-options-dropdown",children:[e.jsx(Ee,{className:"btn-icon",color:"transparent",size:"sm",children:e.jsx(Be,{size:"18"})}),e.jsxs(Ie,{end:!0,children:[e.jsx(W,{href:"/",onClick:i=>i.preventDefault(),children:"View Contact"}),e.jsx(W,{href:"/",onClick:i=>i.preventDefault(),children:"Mute Notifications"}),e.jsx(W,{href:"/",onClick:i=>i.preventDefault(),children:"Block Contact"}),e.jsx(W,{href:"/",onClick:i=>i.preventDefault(),children:"Clear Chat"}),e.jsx(W,{href:"/",onClick:i=>i.preventDefault(),children:"Report"})]})]})]})]})}),e.jsxs(ve,{ref:_,className:"user-chats",options:{wheelPropagation:!1},children:[e.jsx(ce,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},onClick:()=>v(),disabled:U==="FINISHED",children:U==="FINISHED"?"No more messages":"Load More Messages"}),n.isLoadingMoreMsg?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):be(o,O)]}),e.jsxs(Re,{className:"chat-app-form",onSubmit:i=>je(i),children:[e.jsxs(ge,{className:"input-group-merge me-1 form-send-message",children:[e.jsx(Y,{value:D,onChange:i=>M(i.target.value),placeholder:"Type your message or use speech to text"}),e.jsx(fe,{children:e.jsxs(Fe,{className:"attachment-icon mb-0",for:"attach-doc",children:[e.jsx(V,{className:"cursor-pointer text-secondary",size:14}),e.jsx("input",{type:"file",id:"attach-doc",hidden:!0})]})})]}),e.jsxs(ce,{disabled:!x,className:"send",color:"primary",children:[e.jsx(ss,{size:14,className:"d-lg-none"}),e.jsx("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},is=s=>{const{store:a,sidebar:r,handleSidebar:t,userSidebarLeft:n,handleUserSidebarLeft:l}=s,{chats:d,contacts:S,userProfile:f}=a,x=Z(),[_,j]=m.useState("");m.useState("");const[D,M]=m.useState({chatId:null,userId:null,uniqueId:null}),[L,P]=m.useState([]),[o,E]=m.useState([]),U=y=>Object.keys(y).length===0&&y.constructor===Object,R=async y=>{var C;const c=d.find(O=>O.unique_id===y),v=a.selectedUser.find(O=>{var T;return O.data.chat.id===((T=c.chat)==null?void 0:T.id)});if(!v||v.data.chat.id!==((C=c.chat)==null?void 0:C.id))try{await x(_e()),await x(Me(c==null?void 0:c.unique_id)),await x(he(c==null?void 0:c.unique_id)),await x($e(null))}catch(O){console.error("Error in handleUserClick:",O)}finally{x(me())}else M({chatId:v.data.chat.id,userId:v.data.contact.id,uniqueId:v.id}),await x(he(c==null?void 0:c.unique_id));r===!0&&t()};m.useEffect(()=>{var y,c,v;if(!U(a.selectedUser)){const C=a.selectedUser.find(O=>O.data.chat.unique_id===a.selectedChatUniqueId);C&&M({chatId:(y=C.data.chat)==null?void 0:y.id,userId:(c=C.data.contact)==null?void 0:c.id,uniqueId:(v=C.data.chat)==null?void 0:v.unique_id})}},[a.selectedUser,a.selectedChatUniqueId]);const F=()=>d&&d.length?_.length&&!L.length?e.jsx("li",{className:"no-results show",children:e.jsx("h6",{className:"mb-0",children:"No Chats Found"})}):(_.length&&L.length?L:d).map(c=>{const v=Ue(c.chat.lastMessage?c.chat.lastMessage.time:new Date);return e.jsxs("li",{onClick:()=>R(c.unique_id),className:$({active:D.uniqueId===c.unique_id}),children:[e.jsx(I,{img:`${z}/${c.avatar}`,imgHeight:"42",imgWidth:"42",status:c.status}),e.jsxs("div",{className:"chat-info flex-grow-1",children:[e.jsx("h5",{className:"mb-0",children:c.about}),e.jsx(Ge,{className:"text-truncate",children:c.chat.lastMessage?c.chat.lastMessage.message:d[d.length-1].message})]}),e.jsxs("div",{className:"chat-meta text-nowrap",children:[e.jsx("small",{className:"float-end mb-25 chat-time ms-25",children:v}),c.chat.unseenMsgsForUser>=1&&f.id!==c.chat.lastMessage.senderId?e.jsx(We,{className:"float-end",color:"danger",pill:!0,children:c.chat.unseenMsgsForUser}):null]})]},`${c.chat.id}_${c.id}`)}):null,A=y=>{j(y.target.value);const c=O=>O.fullName.toLowerCase().includes(y.target.value.toLowerCase()),v=d==null?void 0:d.filter(c),C=S==null?void 0:S.filter(c);Array.isArray(v)?P([...v]):P([]),Array.isArray(C)?E([...C]):E([])};return a?e.jsx("div",{className:"sidebar-left",children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"sidebar",children:[e.jsxs("div",{className:$("chat-profile-sidebar",{show:n}),children:[e.jsxs("header",{className:"chat-profile-header",children:[e.jsx("div",{className:"close-icon",onClick:l,children:e.jsx(H,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(I,{className:"box-shadow-1 avatar-border",img:`${z}/${f.image}`,status:f.online_status,size:"xl"}),e.jsx("h4",{className:"chat-user-name",children:f.fullName}),e.jsx("span",{className:"user-post",children:f.role})]})]}),e.jsxs(q,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Xe,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Notification"})]}),e.jsx("div",{className:"form-switch",children:e.jsx(Y,{type:"switch",id:"notifications",name:"notifications"})})]}),e.jsxs("li",{className:"d-flex align-items-center cursor-pointer",children:[e.jsx(He,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Delete Chat"})]})]})]})]}),e.jsxs("div",{className:$("sidebar-content",{show:r===!0}),children:[e.jsx("div",{className:"sidebar-close-icon",onClick:t,children:e.jsx(H,{size:14})}),e.jsx("div",{className:"chat-fixed-search",children:e.jsxs("div",{className:"d-flex align-items-center w-100",children:[e.jsx("div",{className:"sidebar-profile-toggle",onClick:l,children:Object.keys(f).length?e.jsx(I,{className:"avatar-border",img:`${z}/${f.image}`,status:f.online_status,imgHeight:"42",imgWidth:"42"}):null}),e.jsxs(ge,{className:"input-group-merge ms-1 w-100",children:[e.jsx(fe,{className:"round",children:e.jsx(pe,{className:"text-muted",size:14})}),e.jsx(Y,{value:_,className:"round",placeholder:"Search or start a new chat",onChange:A})]})]})}),e.jsxs(q,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[e.jsx("h4",{className:"chat-list-title",children:"Airline Baggages"}),e.jsx("ul",{className:"chat-users-list chat-list media-list",children:F()}),e.jsx("h4",{className:"chat-list-title",children:"Hotels"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"}),e.jsx("h4",{className:"chat-list-title",children:"Coupons"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"})]})]})]})})}):null},ls=s=>{const{user:a,handleUserSidebarRight:r,userSidebarRight:t}=s;return e.jsxs("div",{className:$("user-profile-sidebar",{show:t===!0}),children:[e.jsxs("header",{className:"user-profile-header",children:[e.jsx("span",{className:"close-icon",onClick:r,children:e.jsx(H,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(I,{className:"box-shadow-1 avatar-border",size:"xl",status:a.status,img:a.avatar?`${z}/${a.avatar}`:"",imgHeight:"70",imgWidth:"70"}),e.jsx("h4",{className:"chat-user-name",children:a.fullName}),e.jsx("span",{className:"user-post",children:a.role})]})]}),e.jsxs(q,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1",children:"Delivery Details"}),e.jsx("p",{children:a.about}),e.jsx("p",{children:a.departure_date}),e.jsx("p",{children:a.arrival_date}),e.jsx("p",{children:a.flight_number??"Not mentioned"}),e.jsxs("p",{children:[a.weight," Kg"]}),e.jsxs("p",{children:[a.price,"$"]}),e.jsxs("div",{className:"personal-info",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),e.jsx("ul",{className:"list-unstyled",children:e.jsxs("li",{className:"mb-1",children:[e.jsx(Te,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:a.user_authenticated===1?"Authenticated":"Unatuhenticated"})]})})]}),e.jsxs("div",{className:"more-options",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Options"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(V,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Seller Profile"})]}),e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(V,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Offer"})]}),e.jsxs("li",{className:"cursor-pointer",children:[e.jsx(rs,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};const js=()=>{const s=ue(o=>qe(o)),a=ue(o=>o.chatData),r=Z(),[t,n]=m.useState({}),[l,d]=m.useState(!1),[S,f]=m.useState(!1),[x,_]=m.useState(!1),j=()=>d(!l),D=()=>_(!x),M=()=>f(!S),L=()=>{d(!1),f(!1),_(!1)},P=o=>n(o);return m.useEffect(()=>{(async()=>{try{await Promise.all([r(De()).unwrap(),r(Le(s.id)).unwrap()])}catch(E){console.error("Error fetching data:",E)}finally{r(me())}})()},[r,s.id]),e.jsx(m.Fragment,{children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsxs(e.Fragment,{children:[e.jsx(is,{store:a,sidebar:l,handleSidebar:j,userSidebarLeft:x,handleUserSidebarLeft:D}),e.jsx("div",{className:"content-right",children:e.jsx("div",{className:"content-wrapper",children:e.jsxs("div",{className:"content-body",children:[e.jsx("div",{className:$("body-content-overlay",{show:S===!0||l===!0||x===!0}),onClick:L}),e.jsx(ns,{store:a,handleUser:P,handleSidebar:j,userSidebarLeft:x,handleUserSidebarRight:M}),e.jsx(ls,{user:t,userSidebarRight:S,handleUserSidebarRight:M})]})})})]})})};export{js as default};
