import{P as u,t as G,m as q,b as I,d as v,r as p,w as r,aj as pt,s as k,ak as X,al as mt,am as se,an as V,ao as H,ap as z,aq as Z,ar as gt,as as ne,at as W,au as Y,av as F,B as K,D as ft,C as ht,L as vt,Q as ke,aw as yt,ax as xt,ay as De,az as ie,aA as jt}from"./index-ba44b7eb.js";import{u as bt,a as Ct,A as B,h as $e}from"./moment-60ece9b0.js";import{R as U,C as R}from"./Col-dd7260b6.js";import{C as Ee}from"./Card-497d08fd.js";import{C as Me}from"./CardBody-60312198.js";import{F as Nt}from"./Form-49a78706.js";import{L as T,I as ee}from"./Label-b369fbe2.js";import{a as ye,s as _t,h as wt,B as le,H as Ot,j as Pt,D as St,b as At,c as oe}from"./App-fe7f84ea.js";import{u as Lt,C as L}from"./index.esm-ea0c1fde.js";import{F as Te}from"./flatpickr-1ae1bcaa.js";import{c as kt,S as Dt}from"./react-select.esm-4fdee528.js";import{C as ce}from"./CardText-66d726fd.js";import{U as $t}from"./UncontrolledButtonDropdown-6cae49c9.js";import{I as Tt,a as It}from"./InputGroupText-76d8efcd.js";import{S as zt}from"./search-03dbed48.js";import{B as Et}from"./index-bf424e61.js";import"./message-square-657fe305.js";import"./calendar-f7087975.js";var Mt=["className","cssModule","size","vertical","tag"];function de(){return de=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},de.apply(this,arguments)}function Ie(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Ft(e){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?Ie(Object(t),!0).forEach(function(a){Vt(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Vt(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Wt(e,s){if(e==null)return{};var t=Bt(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function Bt(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var Kt={"aria-label":u.string,className:u.string,cssModule:u.object,role:u.string,size:u.string,tag:G,vertical:u.bool};function Fe(e){var s=e.className,t=e.cssModule,a=e.size,n=e.vertical,i=e.tag,d=i===void 0?"div":i,m=Wt(e,Mt),f=q(I(s,a?"btn-group-"+a:!1,n?"btn-group-vertical":"btn-group"),t);return v.createElement(d,de({},Ft({role:"group"},m),{className:f}))}Fe.propTypes=Kt;var Rt=["className","listClassName","cssModule","size","tag","listTag","aria-label"];function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ue.apply(this,arguments)}function Ht(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Yt(e,s){if(e==null)return{};var t=Gt(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function Gt(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var qt={children:u.node,className:u.string,listClassName:u.string,cssModule:u.object,size:u.string,tag:G,listTag:G,"aria-label":u.string};function Ve(e){var s=e.className,t=e.listClassName,a=e.cssModule,n=e.size,i=e.tag,d=i===void 0?"nav":i,m=e.listTag,f=m===void 0?"ul":m,N=e["aria-label"],b=N===void 0?"pagination":N,j=Yt(e,Rt),c=q(I(s),a),y=q(I(t,"pagination",Ht({},"pagination-".concat(n),!!n)),a);return v.createElement(d,{className:c,"aria-label":b},v.createElement(f,ue({},j,{className:y})))}Ve.propTypes=qt;var Ut=["active","className","cssModule","disabled","tag"];function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},pe.apply(this,arguments)}function Qt(e,s){if(e==null)return{};var t=Jt(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function Jt(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var Xt={active:u.bool,children:u.node,className:u.string,cssModule:u.object,disabled:u.bool,tag:G};function te(e){var s=e.active,t=e.className,a=e.cssModule,n=e.disabled,i=e.tag,d=i===void 0?"li":i,m=Qt(e,Ut),f=q(I(t,"page-item",{active:s,disabled:n}),a);return v.createElement(d,pe({},m,{className:f}))}te.propTypes=Xt;var Zt=["className","cssModule","next","previous","first","last","tag"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},me.apply(this,arguments)}function er(e,s){if(e==null)return{};var t=tr(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function tr(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var rr={"aria-label":u.string,children:u.node,className:u.string,cssModule:u.object,next:u.bool,previous:u.bool,first:u.bool,last:u.bool,tag:G};function re(e){var s=e.className,t=e.cssModule,a=e.next,n=e.previous,i=e.first,d=e.last,m=e.tag,f=m===void 0?"a":m,N=er(e,Zt),b=q(I(s,"page-link"),t),j;n?j="Previous":a?j="Next":i?j="First":d&&(j="Last");var c=e["aria-label"]||j,y;n?y="‹":a?y="›":i?y="«":d&&(y="»");var h=e.children;return h&&Array.isArray(h)&&h.length===0&&(h=null),!N.href&&f==="a"&&(f="button"),(n||a||i||d)&&(h=[v.createElement("span",{"aria-hidden":"true",key:"caret"},h||y),v.createElement("span",{className:"visually-hidden",key:"ariaLabel"},c)]),v.createElement(f,me({},N,{className:b,"aria-label":c}),h)}re.propTypes=rr;function ge(){return ge=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ge.apply(this,arguments)}function ar(e,s){if(e==null)return{};var t=sr(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function sr(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var xe=p.forwardRef(function(e,s){var t=e.color,a=t===void 0?"currentColor":t,n=e.size,i=n===void 0?24:n,d=ar(e,["color","size"]);return v.createElement("svg",ge({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),v.createElement("circle",{cx:"12",cy:"12",r:"10"}),v.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),v.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});xe.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};xe.displayName="Info";const nr=xe;function fe(){return fe=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fe.apply(this,arguments)}function ir(e,s){if(e==null)return{};var t=lr(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function lr(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var je=p.forwardRef(function(e,s){var t=e.color,a=t===void 0?"currentColor":t,n=e.size,i=n===void 0?24:n,d=ir(e,["color","size"]);return v.createElement("svg",fe({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),v.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),v.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),v.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),v.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),v.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),v.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))});je.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};je.displayName="List";const or=je;function he(){return he=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},he.apply(this,arguments)}function cr(e,s){if(e==null)return{};var t=dr(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function dr(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var be=p.forwardRef(function(e,s){var t=e.color,a=t===void 0?"currentColor":t,n=e.size,i=n===void 0?24:n,d=cr(e,["color","size"]);return v.createElement("svg",he({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),v.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))});be.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};be.displayName="MessageCircle";const ur=be;function ve(){return ve=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ve.apply(this,arguments)}function pr(e,s){if(e==null)return{};var t=mr(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function mr(e,s){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(t[n]=e[n]);return t}var Ce=p.forwardRef(function(e,s){var t=e.color,a=t===void 0?"currentColor":t,n=e.size,i=n===void 0?24:n,d=pr(e,["color","size"]);return v.createElement("svg",ve({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),v.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}))});Ce.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};Ce.displayName="Star";const gr=Ce;const fr=e=>{const{innerProps:{ref:s,...t}}=e;return r.jsx(kt.ClearIndicator,{...e,children:r.jsx("button",{...t,ref:s,onClick:()=>e.selectProps.onClearValue(),style:{background:"none",border:"none",cursor:"pointer",color:"gray",marginRight:"0px",fontSize:"14px"},children:"x"})})},hr=()=>({validateInput:(s,t,a,n,i,d,m,f)=>s===null&&t.trim()!==""&&!m(a).find(j=>j[d].toLowerCase()===t.toLowerCase())?(f(n,{type:"manual",message:i}),!1):!0}),vr=(e,s,t,a)=>{const n=ye(),{validateInput:i}=hr();return{applyFilters:async(m,f,N,b,j,c,y,h,x,C,_,O,P)=>{s(!0);const $=i(f,P,"departureCountry","departure_country","Please select a valid country from the list.","nicename",t,a),Q=i(b,N,"departureCity","departure_city","Please select a valid city from the list.","name",t,a),w=i(c,j,"departureAirport","departure_airport","Please select a valid airport from the list.","airport_name",t,a),ae=i(h,y,"arrivalCity","arrival_city","Please select a valid city from the list.","name",t,a),M=i(C,x,"arrivalCountry","arrival_country","Please select a valid country from the list.","nicename",t,a),J=i(O,_,"arrivalAirports","arrival_airport","Please select a valid airport from the list.","airport_name",t,a);$&&Q&&w&&M&&ae&&J?(n(pt(m.weight)),await e(m),setTimeout(()=>{s(!1)},1e3)):s(!1)}}},yr=(e,s,t,a,n,i,d,m,f)=>{const[N,b]=p.useState(0),[j,c]=p.useState(0),[y,h]=p.useState(0),[x,C]=p.useState(0),[_,O]=p.useState(0),[P,$]=p.useState(0);return{departureCountryKey:N,departureCityKey:j,departureAirportKey:y,arrivalCountryKey:x,arrivalCityKey:_,arrivalAirportKey:P,handleReset:()=>{e(),a(""),n(""),i(""),d(""),m(""),f(""),b(w=>w+1),c(w=>w+1),h(w=>w+1),C(w=>w+1),O(w=>w+1),$(w=>w+1)}}},xr=({sidebarOpen:e,handleApplyFilters:s})=>{const t=ye(),[a,n]=p.useState(!1),[i,d]=p.useState(""),[m,f]=p.useState([]),[N,b]=p.useState(""),j=fr,{filterKey:c,setFilterKey:y,getSuggestionsByFilterKey:h}=bt(m),[x,C]=p.useState(!1),[_,O]=p.useState(!1),[P,$]=p.useState(!1),[Q,w]=p.useState(!1),[ae,M]=p.useState(!1),J=k(o=>{var l;return(l=o.ecommerce)==null?void 0:l.departure_country_id}),Ne=k(o=>{var l;return(l=o.ecommerce)==null?void 0:l.departure_city_id}),_e=k(o=>{var l;return(l=o.ecommerce)==null?void 0:l.arrival_country_id}),we=k(o=>{var l;return(l=o.ecommerce)==null?void 0:l.arrival_city_id}),Oe=k(o=>{var l;return(l=o.ecommerce)==null?void 0:l.departure_airport_id}),Pe=k(o=>{var l;return(l=o.ecommerce)==null?void 0:l.departure_airport_id}),Ke=k(o=>{var l;return((l=o.ecommerce)==null?void 0:l.departureCity)??""}),Re=k(o=>{var l;return((l=o.ecommerce)==null?void 0:l.departureAirport)??""}),He=k(o=>{var l;return((l=o.ecommerce)==null?void 0:l.arrivalCity)??""}),Ye=k(o=>{var l;return((l=o.ecommerce)==null?void 0:l.arrivalAirport)??""}),{debouncedFetchCountries:Se}=Ct(i,c,J,Ne,_e,we,Oe,Pe,f,n,b),[Ge,qe]=p.useState(""),[Ue,Qe]=p.useState(""),[Je,Xe]=p.useState(""),[Ze,et]=p.useState(""),[tt,rt]=p.useState(""),[at,st]=p.useState("");p.useEffect(()=>{i===""?(f([]),n(!1)):(n(!0),Se(i,c))},[i,c,Se]);const Ae=[{value:"hand_luggage",label:"Hand Luggage"},{value:"baggage",label:"Baggage"},{value:"document",label:"Document"}],{reset:nt,control:A,setError:Le,setValue:it,handleSubmit:lt,formState:{errors:S}}=Lt(),{applyFilters:ot}=vr(s,C,h,Le),{handleReset:ct}=yr(nt,Le,it,qe,Qe,Xe,et,rt,st),[kr,dt]=p.useState(null),[Dr,ut]=p.useState(null);return r.jsx("div",{className:"sidebar-detached sidebar-left",children:r.jsx("div",{className:"sidebar",children:r.jsxs("div",{className:I("sidebar-shop",{show:e}),children:[r.jsx(U,{children:r.jsx(R,{sm:"12",children:r.jsx("h6",{className:"filter-heading d-none d-lg-block",children:"Filters"})})}),r.jsx(Ee,{children:r.jsx(Me,{children:r.jsxs(Nt,{onSubmit:lt(o=>ot(o,J,Ue,Ne,Je,Oe,tt,we,Ze,_e,at,Pe,Ge)),children:[r.jsx(T,{for:"departure_country",children:"Departure Country"}),r.jsx(L,{control:A,name:"departure_country",defaultValue:"",render:({field:o})=>r.jsx(B,{...o,loading:a,suggestions:h("departureCountry"),className:"form-control",errorMessage:N,filterKey:"nicename",suggestionLimit:5,id:"departure_country",autocomplete:"off",placeholder:"Type a country name...",onSelectSuggestion:l=>{o.onChange(l.id),t(X(l.id)),t(mt(l.nicename)),O(!0)},onChange:l=>{if(d(l.target.value),l.target.value==="")o.onChange(""),t(X(null)),t(se("")),t(V(0)),O(!1),t(H("")),t(z(0)),$(!1);else{const g=h("departureCountry").find(D=>D.nicename.toLowerCase()===l.target.value.toLowerCase());g?(o.onChange(g.id),t(X(g.id)),O(!0)):(o.onChange(""),t(X(null)),t(se("")),t(V(0)),O(!1),t(H("")),t(z(0)),$(!1))}y("departureCountry"),b("")}})}),S.departure_country&&r.jsx("div",{className:"text-danger",children:S.departure_country.message}),r.jsx("br",{}),r.jsx(T,{for:"departure_city",children:"Departure City"}),r.jsx(L,{control:A,name:"departure_city",defaultValue:"",render:({field:o})=>r.jsx(B,{...o,loading:a,suggestions:h("departureCity"),className:"form-control",filterKey:"name",suggestionLimit:5,id:"departure_city",autocomplete:"off",disabled:!_,value:Ke,placeholder:"Type a city name...",onSelectSuggestion:l=>{o.onChange(l.id),t(V(l.id)),t(se(l.name)),$(!0)},onChange:l=>{if(d(l.target.value),l.target.value==="")o.onChange(""),t(V(null)),t(H("")),t(z(0)),$(!1);else{const g=h("departureCity").find(D=>D.name.toLowerCase()===l.target.value.toLowerCase());g?(o.onChange(g.id),t(V(g.id)),$(!0)):(o.onChange(""),t(V(null)),t(H("")),t(z(0)),$(!1))}y("departureCity"),b("")}})}),S.departure_city&&r.jsx("div",{className:"text-danger",children:S.departure_city.message}),r.jsx("br",{}),r.jsx(T,{for:"departure_airport",children:"Departure Airport"}),r.jsx(L,{control:A,name:"departure_airport",defaultValue:"",render:({field:o})=>r.jsx(B,{...o,loading:a,suggestions:h("departureAirports"),className:"form-control",filterKey:"airport_name",suggestionLimit:5,id:"departure_airport",autocomplete:"off",disabled:!P,value:Re,placeholder:"Type a airport name...",onSelectSuggestion:l=>{o.onChange(l.id),t(z(l.id)),t(H(l.airport_name))},onChange:l=>{if(d(l.target.value),l.target.value==="")o.onChange(""),t(z(null));else{const g=h("departureAirports").find(D=>D.airport_name.toLowerCase()===l.target.value.toLowerCase());g?(o.onChange(g.id),t(z(g.id))):(o.onChange(""),t(z(null)))}y("departureAirports"),b("")}})}),S.departure_airport&&r.jsx("div",{className:"text-danger",children:S.departure_airport.message}),r.jsx("br",{}),r.jsx(T,{for:"arrival_country",children:"Arrival Country"}),r.jsx(L,{control:A,name:"arrival_country",defaultValue:"",render:({field:o})=>r.jsx(B,{...o,loading:a,suggestions:h("arrivalCountry"),className:"form-control",errorMessage:N,filterKey:"nicename",suggestionLimit:5,id:"arrival_country",autocomplete:"off",placeholder:"Type a country name...",onSelectSuggestion:l=>{o.onChange(l.id),t(Z(l.id)),t(gt(l.nicename)),w(!0)},onChange:l=>{if(d(l.target.value),l.target.value==="")o.onChange(""),t(Z(null)),t(ne("")),t(W(0)),w(!1),t(Y("")),t(F(0)),M(!1);else{const g=h("arrivalCountry").find(D=>D.nicename.toLowerCase()===l.target.value.toLowerCase());g?(o.onChange(g.id),t(Z(g.id)),w(!0)):(o.onChange(""),t(Z(null)),t(ne("")),t(W(0)),w(!1),t(Y("")),t(F(0)),w(!1))}y("arrivalCountry"),b("")}})}),r.jsx("br",{}),S.arrival_country&&r.jsx("div",{className:"text-danger",children:S.arrival_country.message}),r.jsx(T,{for:"arrival_city",children:"Arrival City"}),r.jsx(L,{control:A,name:"arrival_city",defaultValue:"",render:({field:o})=>r.jsx(B,{...o,loading:a,suggestions:h("arrivalCity"),className:"form-control",filterKey:"name",suggestionLimit:5,id:"arrival_city",value:He,autocomplete:"off",disabled:!Q,placeholder:"Type a city name...",onSelectSuggestion:l=>{o.onChange(l.id),t(W(l.id)),t(ne(l.name)),M(!0)},onChange:l=>{if(d(l.target.value),l.target.value==="")o.onChange(""),t(W(null)),t(Y("")),t(F(0)),M(!1);else{const g=h("arrivalCity").find(D=>D.name.toLowerCase()===l.target.value.toLowerCase());g?(o.onChange(g.id),t(W(g.id)),M(!0)):(o.onChange(""),t(W(null)),t(Y("")),t(F(0)),M(!1))}y("arrivalCity"),b("")}})}),S.arrival_city&&r.jsx("div",{className:"text-danger",children:S.arrival_city.message}),r.jsx("br",{}),r.jsx(T,{for:"arrival_airport",children:"Arrival Airport"}),r.jsx(L,{control:A,name:"arrival_airport",defaultValue:"",render:({field:o})=>r.jsx(B,{...o,loading:a,suggestions:h("arrivalAirports"),className:"form-control",filterKey:"airport_name",suggestionLimit:5,id:"arrival_airport",value:Ye,autocomplete:"off",disabled:!ae,placeholder:"Type a airport name...",onSelectSuggestion:l=>{o.onChange(l.id),t(F(l.id)),t(Y(l.airport_name))},onChange:l=>{d(l.target.value);const g=h("arrivalAirports").find(D=>D.airport_name.toLowerCase()===l.target.value.toLowerCase());g?(o.onChange(g.id),t(F(g.id))):(o.onChange(""),t(F(null))),y("arrivalAirports"),b("")}})}),S.arrival_airport&&r.jsx("div",{className:"text-danger",children:S.arrival_airport.message}),r.jsx("br",{}),r.jsx(T,{for:"weight",children:"Weight"}),r.jsx(L,{control:A,id:"weightAsync",name:"weight",render:({field:o})=>r.jsx(ee,{...o,value:o.value||"",type:"number",placeholder:"Weight",step:"0.01",min:"0"}),autocomplete:"off"}),r.jsx("br",{}),r.jsx(T,{for:"delivery_type",children:"Delivery Type"}),r.jsx(L,{name:"delivery_type",id:"delivery_typeAsync",control:A,render:({field:o})=>{const l=Ae.find(g=>g.value===o.value);return r.jsx(Dt,{options:Ae,classNamePrefix:"select",theme:_t,...o,value:o.value?l:null,onChange:g=>{o.onChange(g==null?void 0:g.value)},isClearable:!0,components:{ClearIndicator:j},onClearValue:()=>{o.onChange("")}})},autocomplete:"off"}),r.jsx("br",{}),r.jsx(T,{className:"form-label",for:"departure_date",children:"Departure Date"}),r.jsx("div",{className:"date-input-group",children:r.jsx(L,{control:A,id:"departure_dateAsync",name:"departure_date",render:({field:o})=>r.jsx("div",{children:r.jsx(Te,{...o,value:o.value||"","data-enable-time":!0,id:"departure-picker",options:{dateFormat:"Y-m-d H:i",enableTime:!0},className:`form-control ${S.departure_date?"is-invalid":""}`,onChange:(l,g)=>{dt(g),o.onChange(g)}})}),autocomplete:"off"})}),r.jsx("br",{}),r.jsx(T,{className:"form-label",for:"arrival_date",children:"Arrival Date"}),r.jsx("div",{className:"date-input-group",children:r.jsx(L,{control:A,id:"arrival_dateAsync",name:"arrival_date",render:({field:o})=>r.jsx("div",{children:r.jsx(Te,{...o,value:o.value||"","data-enable-time":!0,id:"arrival-picker",options:{dateFormat:"Y-m-d H:i",enableTime:!0},className:`form-control ${S.arrival_date?"is-invalid":""}`,onChange:(l,g)=>{ut(g),o.onChange(g)}})}),autocomplete:"off"})}),r.jsxs("div",{className:"price-slider",children:[r.jsx("h6",{className:"filter-title",children:"Price Range"}),r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx(L,{name:"minPrice",control:A,defaultValue:"",render:({field:o})=>r.jsx(ee,{...o,type:"number",min:"1",max:"1000",placeholder:"Min",className:"price-input mr-1"}),autocomplete:"off"}),r.jsx("span",{className:"mx-1",children:"-"}),r.jsx(L,{name:"maxPrice",control:A,defaultValue:"",render:({field:o})=>r.jsx(ee,{...o,type:"number",min:"1",max:"1000",placeholder:"Max",className:"price-input ml-1"}),autocomplete:"off"})]})]}),r.jsx("br",{}),r.jsxs("div",{id:"clear-filters",style:{display:"flex",justifyContent:"center"},children:[r.jsx("div",{style:{paddingRight:"20px"},children:r.jsx(K,{type:"reset",color:"primary",onClick:ct,children:"Clear"})}),r.jsxs(K,{type:"submit",color:"primary",disabled:x,children:[x&&r.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:r.jsx("div",{className:"loader"})}),"Apply"]})]})]})})})]})})})};var We={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ze=v.createContext&&v.createContext(We),E=globalThis&&globalThis.__assign||function(){return E=Object.assign||function(e){for(var s,t=1,a=arguments.length;t<a;t++){s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},E.apply(this,arguments)},jr=globalThis&&globalThis.__rest||function(e,s){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)s.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]]);return t};function Be(e){return e&&e.map(function(s,t){return v.createElement(s.tag,E({key:t},s.attr),Be(s.child))})}function br(e){return function(s){return v.createElement(Cr,E({attr:E({},e.attr)},s),Be(e.child))}}function Cr(e){var s=function(t){var a=e.attr,n=e.size,i=e.title,d=jr(e,["attr","size","title"]),m=n||t.size||"1em",f;return t.className&&(f=t.className),e.className&&(f=(f?f+" ":"")+e.className),v.createElement("svg",E({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:f,style:E(E({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&v.createElement("title",null,i),e.children)};return ze!==void 0?v.createElement(ze.Consumer,null,function(t){return s(t)}):s(We)}function Nr(e){return br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M442.6 67.37c-1.6.01-3.2.06-4.8.16-13.2.73-26.9 3.8-36.8 8.74l-.2.12-281 120.21-4.1-2.6c-20.62-13.3-42.15-26.8-73.84-32.1 2.07 4.7 4.64 9.9 7.76 15.5 6.69 11.9 15.26 25.3 23.75 37.6 8.49 12.2 16.96 23.3 23.21 30.4 2.41 2.8 4.02 4.3 5.42 5.6l172.2-68.6-1.2 14.4c-3.7 44.4-11.3 89.6-23.5 135.7l28.5-19c32.6-51.5 43.5-87.2 71-157.3l1.2-3 91.5-50.5h.2c22.9-11.49 32.8-21.65 34.4-25.36.8-1.86.6-1.37.2-2.04-.4-.66-2.3-2.39-5.8-3.85-5.4-2.2-13.8-3.72-23.3-4.03-1.5-.05-3.2-.07-4.8-.05zm-283 11.74l-22.1 4.4L222 133.3l60.1-25.7C248 96.96 210.8 86.98 159.6 79.11zM32 439v18h448v-18H32z"}}]})(e)}const _r="/assets/bagagge-e0eea966.png",wr="/assets/hand_luggage-4ec31b2b.png",Or="/assets/default-image-18b3d5de.png";const Pr=e=>{const{products:s=[],activeView:t,isLoading:a}=e,n=k(c=>wt(c)),i=new ft,d=ht(),m={baggage:_r,hand_luggage:wr},f=[{value:"baggage",label:"Baggage"},{value:"hand_luggage",label:"Hand Luggage"},{value:"document",label:"Document"}],N=async(c,y,h)=>{var x,C,_,O;(!c||!(n!=null&&n.id)||!y||!h)&&ke.error("please ensure you are logged in");try{const P=await i.getTheUserChatContact(c,n.id,y,h);(C=(x=P==null?void 0:P.data)==null?void 0:x.chat)!=null&&C.unique_id?d(`/my-chats/${(O=(_=P==null?void 0:P.data)==null?void 0:_.chat)==null?void 0:O.unique_id}`):ke.warning("Could not find the select chat room for this deal, please try again")}catch(P){console.error(P)}},b=c=>{d(`/my-deals/${c}/edit`)},j=()=>{if(s.length)return s.map(c=>{var x;const y=m[c.delivery_type]||Or,h=(x=f.find(C=>C.value===c.delivery_type))==null?void 0:x.label;return r.jsxs(Ee,{className:"ecommerce-card",children:[r.jsx("div",{className:"item-img text-center mx-auto",children:r.jsxs(vt,{to:`/front/user/${c.user_id}`,children:[r.jsxs("div",{className:"image-container",children:[r.jsx("img",{className:"img-fluid card-img-top",src:y}),r.jsxs("div",{className:"image-overlay",children:[c.weight," ","Kg"]})]}),r.jsx("div",{className:"text-center",children:r.jsx("ul",{className:"unstyled-list list-inline",children:new Array(5).fill().map((C,_)=>r.jsx("li",{className:"ratings-list-item",children:r.jsx(gr,{className:I({"filled-star":_+1<=c.rating,"unfilled-star":_+1>c.rating}),style:{transform:"scale(0.7)"}})},_))})}),r.jsxs(ce,{tag:"span",className:"item-company",children:["By ",c.user_name]})]})}),r.jsx(Me,{children:r.jsx("div",{className:"details-wrapper",children:r.jsxs("div",{className:"flight-details-wrapper",children:[r.jsxs(U,{className:"mt-1 flight-info-row justify-content-between",children:[r.jsx(R,{sm:"4",children:r.jsxs("div",{className:"departure-info",children:[r.jsx("h6",{className:"flight-title",children:"Departure"}),r.jsxs("div",{className:"flight-details",children:[r.jsx("div",{className:"flight-country",children:c.departure_country}),r.jsx("div",{className:"flight-city",children:c.departure_city}),r.jsx("div",{className:"flight-airport",children:c.departure_airport}),r.jsx("div",{className:"flight-date",children:$e(c.departure_date).format("YYYY-MM-DD HH:mm")})]})]})}),r.jsx(R,{sm:"4",className:"arrival-info",children:r.jsxs("div",{className:"flight-info",children:[r.jsx("h6",{className:"flight-title",children:"Arrival"}),r.jsxs("div",{className:"flight-details",children:[r.jsx("div",{className:"flight-country",children:c.arrival_country}),r.jsx("div",{className:"flight-city",children:c.arrival_city}),r.jsx("div",{className:"flight-airport",children:c.arrival_airport}),r.jsx("div",{className:"flight-date",children:$e(c.arrival_date).format("YYYY-MM-DD HH:mm")})]})]})})]}),r.jsxs("div",{className:"flight-line",children:[r.jsx("div",{className:"circle departure-circle"}),r.jsx(Nr,{className:"airplane-icon",size:25}),r.jsx("div",{className:"circle arrival-circle"})]}),r.jsx(U,{className:"mt-1",children:r.jsx(R,{className:"text-center",children:r.jsx("div",{className:"flight-info",children:r.jsxs("div",{className:"flight-info",children:[r.jsx("h6",{className:"flight-title",children:"Delivery Type"}),r.jsxs("div",{className:"flight-details",children:[" ",r.jsx(le,{color:"light-success",children:h})]})]})})})})]})})}),r.jsxs("div",{className:"item-options text-center",children:[r.jsx("div",{className:"item-wrapper",children:r.jsxs("div",{className:"item-cost",children:[r.jsxs("h4",{className:"item-price",children:["$",c.price]}),c.user_authenticated===1&&r.jsx(ce,{className:"shipping",children:r.jsx(le,{color:"light-success",children:"Authenticated User"})}),c.duty_free===1&&r.jsx(ce,{className:"shipping",children:r.jsx(le,{color:"warning",children:"Duty Free Delivery"})})]})}),r.jsxs(K,{className:"btn-wishlist",color:"light",children:[r.jsx(Ot,{className:I("me-50",{"text-danger":c.isInWishlist}),size:14}),r.jsx("span",{children:"Wishlist"})]}),c.user_id!==n.id?r.jsxs(K,{color:"primary",className:"btn-cart move-cart",onClick:()=>{N(c.user_id,c.id,c.delivery_type)},children:[r.jsx(ur,{className:"me-50",size:14}),r.jsx("span",{children:"Contact"})]}):r.jsxs(K,{color:"info",className:"btn-cart move-cart",onClick:()=>{console.log(c),b(c.id)},children:[r.jsx(nr,{style:{color:"black"},className:"me-50",size:14}),r.jsx("span",{style:{color:"black"},children:"Edit Your Deal"})]})]})]},c.id)})};return r.jsxs("div",{className:I({"grid-view":t==="grid","list-view":t==="list","products-loader-container":!0}),children:[a?r.jsx("div",{className:"products-loader",children:r.jsx("div",{className:"loader"})}):null,j()]})},Sr=e=>{const[s,t]=p.useState(!1),{activeView:a,setActiveView:n,dispatch:i,getProducts:d,store:m}=e,f=async b=>{t(!0),i(yt()),i(xt());const j={...m.params,sortBy:b};await i(d(j)),t(!1)},N={"price-desc":"Highest","price-asc":"Lowest",featured:"Featured"};return r.jsx("div",{className:"ecommerce-header",children:r.jsxs(U,{children:[s?r.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:r.jsx("div",{className:"loader"})}):null,r.jsx(R,{sm:"12",children:r.jsxs("div",{className:"ecommerce-header-items",children:[r.jsxs("div",{className:"result-toggler",children:[r.jsx("button",{className:"navbar-toggler shop-sidebar-toggler",children:r.jsx("span",{className:"navbar-toggler-icon d-block d-lg-none",children:r.jsx(Pt,{size:14})})}),r.jsxs("span",{className:"search-results",children:[m.totalProducts," Results Found"]})]}),r.jsxs("div",{className:"view-options d-flex",children:[r.jsxs($t,{className:"dropdown-sort",children:[r.jsxs(St,{className:"text-capitalize me-1",color:"primary",outline:!0,caret:!0,children:[N[m.params.sortBy]," "]}),r.jsxs(At,{children:[r.jsx(oe,{className:"w-100",onClick:()=>f("featured"),children:"Featured"}),r.jsx(oe,{className:"w-100",onClick:()=>f("price-asc"),children:"Lowest"}),r.jsx(oe,{className:"w-100",onClick:()=>f("price-desc"),children:"Highest"})]})]}),r.jsx(Fe,{children:r.jsx(K,{tag:"label",className:I("btn-icon view-btn list-view-btn",{active:a==="list"}),color:"primary",outline:!0,onClick:()=>n("list"),children:r.jsx(or,{size:18})})})]})]})})]})})},Ar=e=>{const{dispatch:s,getProducts:t,store:a,setLoading:n}=e,i=async d=>{n(!0),await s(t({...a.params,q:d.target.value})),n(!1)};return r.jsx("div",{id:"ecommerce-searchbar",className:"ecommerce-searchbar",children:r.jsx(U,{className:"mt-1",children:r.jsx(R,{sm:"12",children:r.jsxs(Tt,{className:"input-group-merge",children:[r.jsx(ee,{className:"search-product",placeholder:"Search Product",onChange:i}),r.jsx(It,{children:r.jsx(zt,{className:"text-muted",size:14})})]})})})})},Lr=e=>{var h;const{store:s,dispatch:t,activeView:a,getProducts:n,setActiveView:i,appliedFilters:d}=e,[m,f]=p.useState(!1),[N,b]=p.useState(!1),j=async x=>{let C;if(x==="next"?C=s.params.page+1:x==="prev"?C=s.params.page-1:C=x,C>=1)if(s.pages[C])t(De.actions.updateParams({...s.params,page:C}));else{f(!0);const _={...s.params,...d,page:C},O=await t(n(_));f(!1),t(De.actions.setPages({page:C,data:O.payload.products}))}},c=()=>{const x=s.totalProducts!==0&&s.products.length!==0?Math.ceil(s.totalProducts/s.params.perPage):1;return x>0?new Array(x).fill().map((C,_)=>r.jsx(te,{active:s.params.page===_+1,onClick:()=>j(_+1),children:r.jsxs(re,{href:"/",onClick:O=>O.preventDefault(),className:m?"pagination-overlay":"",children:[_+1,m?r.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:r.jsx("div",{className:"loader"})}):null]})},_)):[0]},y=()=>{const x=Math.ceil(s.totalProducts/s.params.perPage);s.params.page<x&&j("next")};return r.jsx("div",{className:"content-detached content-right",children:r.jsxs("div",{className:"content-body",children:[r.jsx(Sr,{store:s,dispatch:t,activeView:a,getProducts:n,setActiveView:i}),r.jsx(Ar,{dispatch:t,getProducts:n,store:s,setLoading:b}),Object.keys(s.sortedProducts).length&&((h=s.sortedProducts[s.params.sortBy])!=null&&h.length)?r.jsxs(p.Fragment,{children:[r.jsx(Pr,{store:s,dispatch:t,activeView:a,products:s.pages[s.params.page],getProducts:n,isLoading:N}),r.jsxs(Ve,{className:"d-flex justify-content-center ecommerce-shop-pagination mt-2",children:[r.jsx(te,{disabled:s.params.page===1,className:"prev-item",onClick:()=>s.params.page!==1?j("prev"):null,children:r.jsx(re,{href:"/",onClick:x=>x.preventDefault()})}),c(),r.jsx(te,{className:"next-item",onClick:()=>y(),disabled:s.params.page===Math.ceil(s.totalProducts/s.params.perPage),children:r.jsx(re,{href:"/",onClick:x=>x.preventDefault()})})]})]}):r.jsx("div",{className:"d-flex justify-content-center mt-2",children:r.jsx("p",{children:"No Results"})})]})})};const Jr=()=>{const[e,s]=p.useState("list"),[t,a]=p.useState({}),n=ye(),i=k(m=>m.ecommerce);p.useEffect(()=>{n(ie({q:"",sortBy:"featured",perPage:9,page:1})).then(()=>{n(jt())})},[n]);const d=m=>{a(m),n(ie({...i.params,...m,page:1,perPage:9,sortBy:"featured"}))};return r.jsx(p.Fragment,{children:i.isLoading?r.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:r.jsx("div",{className:"loader"})}):r.jsxs(r.Fragment,{children:[r.jsx(Et,{title:"Shop",data:[{title:"Offers"},{title:"Active offers"}]}),r.jsx(Lr,{store:i,dispatch:n,activeView:e,getProducts:ie,setActiveView:s,appliedFilters:t}),r.jsx(xr,{handleApplyFilters:d,store:i})]})})};export{Jr as default};
