import{r as u,d as S,P as j,w as e,b as $,B as oe,aM as ce,Q as de,aN as ye,aO as we,aP as Se,aQ as Ce,aR as ke,aS as Oe,aT as _e,aU as Me,aV as he,aW as $e,aX as me,s as ue,aY as De,aZ as Le}from"./index-4abf6e04.js";import{a as K,k as q,l as ze,A as I,t as z,U as Pe,D as Ee,b as Ie,c as W,X as B,v as Ue,B as We,M as Te,w as qe}from"./App-1a816be9.js";import{F as Re}from"./Form-602ae243.js";import{I as H,L as Fe}from"./Label-7a2ef0a7.js";import{I as ge,a as fe}from"./InputGroupText-28ce7c6d.js";import{u as Ae,M as Be,T as He}from"./useSubscribeToChannel-21452df2.js";import{M as Ye,S as pe}from"./search-203b62b5.js";import{C as Ge}from"./CardText-cf8328b9.js";import"./pusher-ef6f9223.js";function Y(){return Y=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},Y.apply(this,arguments)}function Qe(s,a){if(s==null)return{};var r=Ve(s,a),t,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(i=0;i<l.length;i++)t=l[i],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ve(s,a){if(s==null)return{};var r={},t=Object.keys(s),i,l;for(l=0;l<t.length;l++)i=t[l],!(a.indexOf(i)>=0)&&(r[i]=s[i]);return r}var Z=u.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,i=s.size,l=i===void 0?24:i,d=Qe(s,["color","size"]);return S.createElement("svg",Y({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),S.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),S.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))});Z.propTypes={color:j.string,size:j.oneOfType([j.string,j.number])};Z.displayName="Bell";const Xe=Z;function G(){return G=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},G.apply(this,arguments)}function Ke(s,a){if(s==null)return{};var r=Ze(s,a),t,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(i=0;i<l.length;i++)t=l[i],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ze(s,a){if(s==null)return{};var r={},t=Object.keys(s),i,l;for(l=0;l<t.length;l++)i=t[l],!(a.indexOf(i)>=0)&&(r[i]=s[i]);return r}var J=u.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,i=s.size,l=i===void 0?24:i,d=Ke(s,["color","size"]);return S.createElement("svg",G({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),S.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),S.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),S.createElement("polyline",{points:"21 15 16 10 5 21"}))});J.propTypes={color:j.string,size:j.oneOfType([j.string,j.number])};J.displayName="Image";const Q=J;function V(){return V=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},V.apply(this,arguments)}function Je(s,a){if(s==null)return{};var r=es(s,a),t,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(i=0;i<l.length;i++)t=l[i],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function es(s,a){if(s==null)return{};var r={},t=Object.keys(s),i,l;for(l=0;l<t.length;l++)i=t[l],!(a.indexOf(i)>=0)&&(r[i]=s[i]);return r}var ee=u.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,i=s.size,l=i===void 0?24:i,d=Je(s,["color","size"]);return S.createElement("svg",V({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),S.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),S.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});ee.propTypes={color:j.string,size:j.oneOfType([j.string,j.number])};ee.displayName="Send";const ss=ee;function X(){return X=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},X.apply(this,arguments)}function as(s,a){if(s==null)return{};var r=ts(s,a),t,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(i=0;i<l.length;i++)t=l[i],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function ts(s,a){if(s==null)return{};var r={},t=Object.keys(s),i,l;for(l=0;l<t.length;l++)i=t[l],!(a.indexOf(i)>=0)&&(r[i]=s[i]);return r}var se=u.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,i=s.size,l=i===void 0?24:i,d=as(s,["color","size"]);return S.createElement("svg",X({ref:a,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),S.createElement("circle",{cx:"12",cy:"12",r:"10"}),S.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))});se.propTypes={color:j.string,size:j.oneOfType([j.string,j.number])};se.displayName="Slash";const rs=se,ns=s=>{var ae,te,re,ne,ie,le;const{handleUser:a,handleUserSidebarRight:r,handleSidebar:t,store:i,userSidebarLeft:l}=s,{userProfile:d,selectedUser:C,selectedChatUniqueId:f,enableSendMessage:v}=i,_=u.useRef(),y=K(),[D,M]=u.useState(""),L=localStorage.getItem("skin"),P=()=>{var m;const n=((m=_.current)==null?void 0:m._container)||_.current;n.scrollTop=Number.MAX_SAFE_INTEGER},o=C.find(n=>n.id===f),E=(te=(ae=o==null?void 0:o.data)==null?void 0:ae.chat)==null?void 0:te.id,U=i.oldestMessageId,R=(ie=(ne=(re=o==null?void 0:o.data)==null?void 0:re.contact)==null?void 0:ne.chat)==null?void 0:ie.firstMessage,F=n=>{console.log("success",n)},A=n=>{n.response&&n.response.status},w=async(n,m,g,p)=>{await n(Oe(m.map(x=>{if(x.data.chat.unique_id===g){const h={...x,data:{...x.data,chat:{...x.data.chat}}};return h.data.chat.chat.find(N=>N.id===p.original_id)?h.data.chat.chat=h.data.chat.chat.map(N=>N.id===p.original_id?{...N,id:p.id}:N):h.data.chat.chat=x.data.chat.chat.concat([p]),h}return x})))};Ae("chats",A,F,async(n,m)=>{var x;if(console.log("ondataReceived in onDataReceived: ",n),(n==null?void 0:n.chat)===null)return;const g=n.chat.rateLimitStatuses.find(h=>h.user_id===d.id);if(g){if((g==null?void 0:g.button)==="disabled"&&v===!0){y(ce(!1)),de.info("Too many consecutive requests made in too sort a time span! Please wait a moment before trying again, you will be notified when you can send a message again");return}else if((g==null?void 0:g.button)==="enabled"&&v===!1){y(ce(!0)),de.info("You may continue sending messages agin now, please be mindful not to spam chat!");return}return}if(((x=n==null?void 0:n.chat)==null?void 0:x.newMessageData)===null)return;y(ye(n==null?void 0:n.chat));const p={id:n.chat.newMessageData.message_id,chat_id:n.chat.id,message:n.chat.newMessageData.message,sender_id:n.chat.newMessageData.senderId,original_id:n.chat.newMessageData.original_id,time:n.chat.newMessageData.time};await w(y,m,f,p)},C);const b=async()=>{try{await y(we()),await y(Se({chatId:E,oldestMessageId:U||R||null}))}catch(n){console.error("Error in loadMoreMsgs:",n)}finally{y(Ce())}};u.useEffect(()=>{o&&Object.keys(o).length&&P()},[o]);const k=()=>{var x;let n=[];o.data.chat&&(n=(x=o.data.chat)==null?void 0:x.chat);const m=[];let g=n[0]?n[0].sender_id:void 0,p={sender_id:g,messages:[]};return n.forEach((h,N)=>{g===h.sender_id?p.messages.push({msg:h.message,time:h.time,id:h.id,status:h.status}):(g=h.sender_id,m.push(p),p={sender_id:h.sender_id,messages:[{msg:h.message,time:h.time,id:h.id,status:h.status}]}),N===n.length-1&&m.push(p)}),m},O=()=>k().map(n=>e.jsxs("div",{className:$("chat",{"chat-left":n.sender_id!==d.id}),children:[e.jsx("div",{className:"chat-avatar",children:e.jsx(I,{imgWidth:36,imgHeight:36,className:"box-shadow-1 cursor-pointer",img:n.sender_id!==d.id?`${z}/${o.data.contact.avatar}`:`${z}/${d.image}`})}),e.jsx("div",{className:"chat-body",children:n.messages.map(m=>{const g=new Date(m.time),p=`${g.getDate()} ${g.toLocaleString("default",{month:"long"})}, ${g.getFullYear()}`;return e.jsxs("div",{className:"chat-content",children:[e.jsx("p",{children:m.msg}),e.jsx("small",{style:{fontSize:"8px",color:L==='"dark"'?"#fefe":"#000",fontStyle:"italic"},children:m.status??p})]},m.id)})})]},`${n.sender_id}-${n.messages[0].id}`)),T=n=>{r(),a(n)},xe=()=>{!Object.keys(o).length&&!l&&window.innerWidth<992&&t()},je=async n=>{const p=Math.floor(Math.random()*-98)+-1;if(n.preventDefault(),D.trim().length){const x=new Date,h=`${x.getDate()} ${x.toLocaleString("default",{month:"long"})}, ${x.getFullYear()}`,N={id:p,chat_id:o.data.chat.id,message:D,sender_id:d.id,original_id:p,time:h};C.find(Ne=>Ne.data.chat.unique_id===f)&&(await y(ke({message:{request:{data:{id:N.id,chat_id:N.chat_id,message:N.message,sender_id:N.sender_id,original_id:N.original_id,time:N.time}}}})),await w(y,C,f,N)),M("")}},ve=o&&Object.keys(o).length&&((le=o==null?void 0:o.data)!=null&&le.chat)?q:"div",be=(n,m)=>n.data.chat?e.jsx("div",{className:"chats",children:m()}):null;return e.jsxs("div",{className:"chat-app-window",children:[e.jsxs("div",{className:$("start-chat-area",{"d-none":o&&Object.keys(o).length}),children:[e.jsx("div",{className:"start-chat-icon mb-1",children:e.jsx(Ye,{})}),e.jsx("h4",{className:"sidebar-toggle start-chat-text",onClick:xe,children:"Start Conversation"})]}),o&&Object.keys(o).length?e.jsxs("div",{className:$("active-chat",{"d-none":o===null}),children:[e.jsx("div",{className:"chat-navbar",children:e.jsxs("header",{className:"chat-header",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"sidebar-toggle d-block d-lg-none me-1",onClick:t,children:e.jsx(ze,{size:21})}),e.jsx(I,{imgHeight:"36",imgWidth:"36",img:`${z}/${o.data.contact.avatar}`,status:o.data.contact.status,className:"avatar-border user-profile-toggle m-0 me-1",onClick:()=>T(o.data.contact)}),e.jsx("h6",{className:"mb-0",children:o.data.contact.fullName})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(pe,{size:18,className:"cursor-pointer d-sm-block d-none"}),e.jsxs(Pe,{className:"more-options-dropdown",children:[e.jsx(Ee,{className:"btn-icon",color:"transparent",size:"sm",children:e.jsx(Be,{size:"18"})}),e.jsxs(Ie,{end:!0,children:[e.jsx(W,{href:"/",onClick:n=>n.preventDefault(),children:"View Contact"}),e.jsx(W,{href:"/",onClick:n=>n.preventDefault(),children:"Mute Notifications"}),e.jsx(W,{href:"/",onClick:n=>n.preventDefault(),children:"Block Contact"}),e.jsx(W,{href:"/",onClick:n=>n.preventDefault(),children:"Clear Chat"}),e.jsx(W,{href:"/",onClick:n=>n.preventDefault(),children:"Report"})]})]})]})]})}),e.jsxs(ve,{ref:_,className:"user-chats",options:{wheelPropagation:!1},children:[e.jsx(oe,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},onClick:()=>b(),disabled:U==="FINISHED",children:U==="FINISHED"?"No more messages":"Load More Messages"}),i.isLoadingMoreMsg?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):be(o,O)]}),e.jsxs(Re,{className:"chat-app-form",onSubmit:n=>je(n),children:[e.jsxs(ge,{className:"input-group-merge me-1 form-send-message",children:[e.jsx(H,{value:D,onChange:n=>M(n.target.value),placeholder:"Type your message or use speech to text"}),e.jsx(fe,{children:e.jsxs(Fe,{className:"attachment-icon mb-0",for:"attach-doc",children:[e.jsx(Q,{className:"cursor-pointer text-secondary",size:14}),e.jsx("input",{type:"file",id:"attach-doc",hidden:!0})]})})]}),e.jsxs(oe,{disabled:!v,className:"send",color:"primary",children:[e.jsx(ss,{size:14,className:"d-lg-none"}),e.jsx("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},is=s=>{const{store:a,sidebar:r,handleSidebar:t,userSidebarLeft:i,handleUserSidebarLeft:l}=s,{chats:d,contacts:C,userProfile:f}=a,v=K(),[_,y]=u.useState("");u.useState("");const[D,M]=u.useState({chatId:null,userId:null,uniqueId:null}),[L,P]=u.useState([]),[o,E]=u.useState([]),U=w=>Object.keys(w).length===0&&w.constructor===Object,R=async w=>{var k;const c=d.find(O=>O.unique_id===w),b=a.selectedUser.find(O=>{var T;return O.data.chat.id===((T=c.chat)==null?void 0:T.id)});if(!b||b.data.chat.id!==((k=c.chat)==null?void 0:k.id))try{await v(_e()),await v(Me(c==null?void 0:c.unique_id)),await v(he(c==null?void 0:c.unique_id)),await v($e(null))}catch(O){console.error("Error in handleUserClick:",O)}finally{v(me())}else M({chatId:b.data.chat.id,userId:b.data.contact.id,uniqueId:b.id}),await v(he(c==null?void 0:c.unique_id));r===!0&&t()};u.useEffect(()=>{var w,c,b;if(!U(a.selectedUser)){const k=a.selectedUser.find(O=>O.data.chat.unique_id===a.selectedChatUniqueId);k&&M({chatId:(w=k.data.chat)==null?void 0:w.id,userId:(c=k.data.contact)==null?void 0:c.id,uniqueId:(b=k.data.chat)==null?void 0:b.unique_id})}},[a.selectedUser,a.selectedChatUniqueId]);const F=()=>d&&d.length?_.length&&!L.length?e.jsx("li",{className:"no-results show",children:e.jsx("h6",{className:"mb-0",children:"No Chats Found"})}):(_.length&&L.length?L:d).map(c=>{const b=Ue(c.chat.lastMessage?c.chat.lastMessage.time:new Date);return e.jsxs("li",{onClick:()=>R(c.unique_id),className:$({active:D.uniqueId===c.unique_id}),children:[e.jsx(I,{img:`${z}/${c.avatar}`,imgHeight:"42",imgWidth:"42",status:c.status}),e.jsxs("div",{className:"chat-info flex-grow-1",children:[e.jsx("h5",{className:"mb-0",children:c.about}),e.jsx(Ge,{className:"text-truncate",children:c.chat.lastMessage?c.chat.lastMessage.message:d[d.length-1].message})]}),e.jsxs("div",{className:"chat-meta text-nowrap",children:[e.jsx("small",{className:"float-end mb-25 chat-time ms-25",children:b}),c.chat.unseenMsgsForUser>=1&&f.id!==c.chat.lastMessage.senderId?e.jsx(We,{className:"float-end",color:"danger",pill:!0,children:c.chat.unseenMsgsForUser}):null]})]},`${c.chat.id}_${c.id}`)}):null,A=w=>{y(w.target.value);const c=O=>O.fullName.toLowerCase().includes(w.target.value.toLowerCase()),b=d==null?void 0:d.filter(c),k=C==null?void 0:C.filter(c);Array.isArray(b)?P([...b]):P([]),Array.isArray(k)?E([...k]):E([])};return a?e.jsx("div",{className:"sidebar-left",children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"sidebar",children:[e.jsxs("div",{className:$("chat-profile-sidebar",{show:i}),children:[e.jsxs("header",{className:"chat-profile-header",children:[e.jsx("div",{className:"close-icon",onClick:l,children:e.jsx(B,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(I,{className:"box-shadow-1 avatar-border",img:`${z}/${f.image}`,status:f.online_status,size:"xl"}),e.jsx("h4",{className:"chat-user-name",children:f.fullName}),e.jsx("span",{className:"user-post",children:f.role})]})]}),e.jsxs(q,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Xe,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Notification"})]}),e.jsx("div",{className:"form-switch",children:e.jsx(H,{type:"switch",id:"notifications",name:"notifications"})})]}),e.jsxs("li",{className:"d-flex align-items-center cursor-pointer",children:[e.jsx(He,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Delete Chat"})]})]})]})]}),e.jsxs("div",{className:$("sidebar-content",{show:r===!0}),children:[e.jsx("div",{className:"sidebar-close-icon",onClick:t,children:e.jsx(B,{size:14})}),e.jsx("div",{className:"chat-fixed-search",children:e.jsxs("div",{className:"d-flex align-items-center w-100",children:[e.jsx("div",{className:"sidebar-profile-toggle",onClick:l,children:Object.keys(f).length?e.jsx(I,{className:"avatar-border",img:`${z}/${f.image}`,status:f.online_status,imgHeight:"42",imgWidth:"42"}):null}),e.jsxs(ge,{className:"input-group-merge ms-1 w-100",children:[e.jsx(fe,{className:"round",children:e.jsx(pe,{className:"text-muted",size:14})}),e.jsx(H,{value:_,className:"round",placeholder:"Search or start a new chat",onChange:A})]})]})}),e.jsxs(q,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[e.jsx("h4",{className:"chat-list-title",children:"Airline Baggages"}),e.jsx("ul",{className:"chat-users-list chat-list media-list",children:F()}),e.jsx("h4",{className:"chat-list-title",children:"Hotels"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"}),e.jsx("h4",{className:"chat-list-title",children:"Coupons"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"})]})]})]})})}):null},ls=s=>{const{user:a,handleUserSidebarRight:r,userSidebarRight:t}=s;return e.jsxs("div",{className:$("user-profile-sidebar",{show:t===!0}),children:[e.jsxs("header",{className:"user-profile-header",children:[e.jsx("span",{className:"close-icon",onClick:r,children:e.jsx(B,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(I,{className:"box-shadow-1 avatar-border",size:"xl",status:a.status,img:a.avatar?`${z}/${a.avatar}`:"",imgHeight:"70",imgWidth:"70"}),e.jsx("h4",{className:"chat-user-name",children:a.fullName}),e.jsx("span",{className:"user-post",children:a.role})]})]}),e.jsxs(q,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1",children:"Delivery Details"}),e.jsx("p",{children:a.about}),e.jsx("p",{children:a.departure_date}),e.jsx("p",{children:a.arrival_date}),e.jsx("p",{children:a.flight_number??"Not mentioned"}),e.jsxs("p",{children:[a.weight," Kg"]}),e.jsxs("p",{children:[a.price,"$"]}),e.jsxs("div",{className:"personal-info",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),e.jsx("ul",{className:"list-unstyled",children:e.jsxs("li",{className:"mb-1",children:[e.jsx(Te,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:a.user_authenticated===1?"Authenticated":"Unatuhenticated"})]})})]}),e.jsxs("div",{className:"more-options",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Options"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(Q,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Seller Profile"})]}),e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(Q,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Offer"})]}),e.jsxs("li",{className:"cursor-pointer",children:[e.jsx(rs,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};const js=()=>{const s=ue(o=>qe(o)),a=ue(o=>o.chatData),r=K(),[t,i]=u.useState({}),[l,d]=u.useState(!1),[C,f]=u.useState(!1),[v,_]=u.useState(!1),y=()=>d(!l),D=()=>_(!v),M=()=>f(!C),L=()=>{d(!1),f(!1),_(!1)},P=o=>i(o);return u.useEffect(()=>{(async()=>{try{await Promise.all([r(De()).unwrap(),r(Le(s.id)).unwrap()])}catch(E){console.error("Error fetching data:",E)}finally{r(me())}})()},[r,s.id]),e.jsx(u.Fragment,{children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsxs(e.Fragment,{children:[e.jsx(is,{store:a,sidebar:l,handleSidebar:y,userSidebarLeft:v,handleUserSidebarLeft:D}),e.jsx("div",{className:"content-right",children:e.jsx("div",{className:"content-wrapper",children:e.jsxs("div",{className:"content-body",children:[e.jsx("div",{className:$("body-content-overlay",{show:C===!0||l===!0||v===!0}),onClick:L}),e.jsx(ns,{store:a,handleUser:P,handleSidebar:y,userSidebarLeft:v,handleUserSidebarRight:M}),e.jsx(ls,{user:t,userSidebarRight:C,handleUserSidebarRight:M})]})})})]})})};export{js as default};
