import{r as h,d as w,P as g,D as be,w as e,b as _,B as de,j as Ne,aN as ye,aO as we,aP as Se,aQ as Ce,aR as he,aS as ke,aT as Oe,aU as Me,aV as ue,aW as Le,aX as pe,s as me,aY as _e,aZ as $e}from"./index-88544c75.js";import{a as Y,f as q,h as ze,A as I,l as D,U as De,D as Ee,b as Ie,c as U,X as A,m as Pe,B as Ue,M as Te,n as We}from"./App-1134afd0.js";import{F as Re}from"./Form-3e20e82d.js";import{I as F,L as qe}from"./Label-aefd7ded.js";import{I as ge,a as xe}from"./InputGroupText-43ad813f.js";import{E as Ae,M as Fe,T as Be}from"./echo-e13be207.js";import"./pusher-ef6f9223.js";import{M as He,S as je}from"./search-318bfa43.js";import{C as Ge}from"./CardText-80265927.js";function B(){return B=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},B.apply(this,arguments)}function Ve(s,a){if(s==null)return{};var r=Xe(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Xe(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var Q=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=Ve(s,["color","size"]);return w.createElement("svg",B({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),w.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))});Q.propTypes={color:g.string,size:g.oneOfType([g.string,g.number])};Q.displayName="Bell";const Ye=Q;function H(){return H=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},H.apply(this,arguments)}function Qe(s,a){if(s==null)return{};var r=Ke(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Ke(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var K=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=Qe(s,["color","size"]);return w.createElement("svg",H({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),w.createElement("polyline",{points:"21 15 16 10 5 21"}))});K.propTypes={color:g.string,size:g.oneOfType([g.string,g.number])};K.displayName="Image";const G=K;function V(){return V=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},V.apply(this,arguments)}function Ze(s,a){if(s==null)return{};var r=Je(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Je(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var Z=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=Ze(s,["color","size"]);return w.createElement("svg",V({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),w.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});Z.propTypes={color:g.string,size:g.oneOfType([g.string,g.number])};Z.displayName="Send";const es=Z;function X(){return X=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},X.apply(this,arguments)}function ss(s,a){if(s==null)return{};var r=ts(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function ts(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var J=h.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,d=ss(s,["color","size"]);return w.createElement("svg",X({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}))});J.propTypes={color:g.string,size:g.oneOfType([g.string,g.number])};J.displayName="Slash";const as=J,fe=new be,rs=(s,a,r)=>{h.useEffect(()=>{let t;async function n(){const i=new Ae({broadcaster:"pusher",key:"alikoza",cluster:"mt1",encrypted:!1,wsHost:"https://api.dealmanager.co.uk",wsPort:6001,wssPort:6001,disableStats:!0,forceTLS:!1,authEndpoint:`${fe.baseurl().replace(/\s/g,"")}/api/front/subscribeToChat`,authorizer:(f,m)=>({authorize:async(j,u)=>{try{const v=await fe.subscribeToChat(j,f.name);u(!1,v.data),a(v)}catch(v){u(!0,v),s(v)}}})}),d=i.private("chats");d.listen(".App\\Events\\Chat\\ChatListUpdated",f=>{r(f)}),t=()=>{d.stopListening(".App\\Events\\Chat\\ChatListUpdated"),i.disconnect()}}return n(),()=>{t&&t()}},[])},ns=s=>{var ae,re,ne,ie,le,oe;const{handleUser:a,handleUserSidebarRight:r,handleSidebar:t,store:n,userSidebarLeft:i}=s,{userProfile:d,selectedUser:f,selectedChatUniqueId:m}=n,j=h.useRef(null),u=Y(),[v,$]=h.useState(""),E=localStorage.getItem("skin"),M=()=>{const l=Ne.findDOMNode(j.current);l.scrollTop=Number.MAX_SAFE_INTEGER},o=f.find(l=>l.id===m),T=(re=(ae=o==null?void 0:o.data)==null?void 0:ae.chat)==null?void 0:re.id,b=n.oldestMessageId,P=(le=(ie=(ne=o==null?void 0:o.data)==null?void 0:ne.contact)==null?void 0:ie.chat)==null?void 0:le.firstMessage;rs(l=>{l.response&&l.response.status},l=>{},async l=>{u(ke(l&&l.chats));const z={id:l.chats.newMessageData.message_id,chat_id:l.chats.id,message:l.chats.newMessageData.message,time:l.chats.newMessageData.time,sender_id:l.chats.newMessageData.senderId};await u(he(f.map(p=>p.data.chat.unique_id===m?{...p,data:{...p.data,chat:{...p.data.chat,chat:[...p.data.chat.chat,z]}}}:p)))}),h.useEffect(()=>{console.log("selectedUser state in onDataReceived: ",f)},[f]);const N=async()=>{try{await u(ye()),await u(we({chatId:T,oldestMessageId:b||P||null}))}catch(l){console.error("Error in loadMoreMsgs:",l)}finally{u(Se())}};h.useEffect(()=>{o&&Object.keys(o).length&&M()},[o]);const c=()=>{var O;let l=[];o.data.chat&&(l=(O=o.data.chat)==null?void 0:O.chat);const z=[];let p=l[0]?l[0].sender_id:void 0,k={sender_id:p,messages:[]};return l.forEach((y,R)=>{p===y.sender_id?k.messages.push({msg:y.message,time:y.time,id:y.id,status:y.status}):(p=y.sender_id,z.push(k),k={sender_id:y.sender_id,messages:[{msg:y.message,time:y.time,id:y.id,status:y.status}]}),R===l.length-1&&z.push(k)}),z},x=()=>c().map((l,z)=>e.jsxs("div",{className:_("chat",{"chat-left":l.sender_id!==d.id}),children:[e.jsx("div",{className:"chat-avatar",children:e.jsx(I,{imgWidth:36,imgHeight:36,className:"box-shadow-1 cursor-pointer",img:l.sender_id!==d.id?`${D}/${o.data.contact.avatar}`:`${D}/${d.image}`})}),e.jsx("div",{className:"chat-body",children:l.messages.map(p=>{const k=new Date(p.time),O=`${k.getDate()} ${k.toLocaleString("default",{month:"long"})}, ${k.getFullYear()}`;return e.jsxs("div",{className:"chat-content",children:[e.jsx("p",{children:p.msg}),e.jsx("small",{style:{fontSize:"8px",color:E==='"dark"'?"#fefe":"#000",fontStyle:"italic"},children:p.status??O})]},p.id)})})]},`${l.sender_id}-${l.messages[0].id}`)),S=l=>{r(),a(l)},C=()=>{!Object.keys(o).length&&!i&&window.innerWidth<992&&t()},W=async l=>{const k=Math.floor(Math.random()*-98)+-1;if(l.preventDefault(),v.trim().length){const O=new Date,y=`${O.getDate()} ${O.toLocaleString("default",{month:"long"})}, ${O.getFullYear()}`,R={id:k,chat_id:o.data.chat.id,message:v,time:O.toISOString(),sender_id:d.id,status:y},ce=f.find(L=>L.data.chat.unique_id===m);ce&&(await u(Ce({...ce,message:R})),await u(he(f.map(L=>L.data.chat.unique_id===m?{...L,data:{...L.data,chat:{...L.data.chat,chat:[...L.data.chat.chat,R]}}}:L)))),$("")}},ve=o&&Object.keys(o).length&&((oe=o==null?void 0:o.data)!=null&&oe.chat)?q:"div";return e.jsxs("div",{className:"chat-app-window",children:[e.jsxs("div",{className:_("start-chat-area",{"d-none":o&&Object.keys(o).length}),children:[e.jsx("div",{className:"start-chat-icon mb-1",children:e.jsx(He,{})}),e.jsx("h4",{className:"sidebar-toggle start-chat-text",onClick:C,children:"Start Conversation"})]}),o&&Object.keys(o).length?e.jsxs("div",{className:_("active-chat",{"d-none":o===null}),children:[e.jsx("div",{className:"chat-navbar",children:e.jsxs("header",{className:"chat-header",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"sidebar-toggle d-block d-lg-none me-1",onClick:t,children:e.jsx(ze,{size:21})}),e.jsx(I,{imgHeight:"36",imgWidth:"36",img:`${D}/${o.data.contact.avatar}`,status:o.data.contact.status,className:"avatar-border user-profile-toggle m-0 me-1",onClick:()=>S(o.data.contact)}),e.jsx("h6",{className:"mb-0",children:o.data.contact.fullName})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(je,{size:18,className:"cursor-pointer d-sm-block d-none"}),e.jsxs(De,{className:"more-options-dropdown",children:[e.jsx(Ee,{className:"btn-icon",color:"transparent",size:"sm",children:e.jsx(Fe,{size:"18"})}),e.jsxs(Ie,{end:!0,children:[e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"View Contact"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Mute Notifications"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Block Contact"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Clear Chat"}),e.jsx(U,{href:"/",onClick:l=>l.preventDefault(),children:"Report"})]})]})]})]})}),e.jsxs(ve,{ref:j,className:"user-chats",options:{wheelPropagation:!1},children:[e.jsx(de,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},onClick:()=>N(),disabled:b==="FINISHED",children:b==="FINISHED"?"No more messages":"Load More Messages"}),n.isLoadingMoreMsg?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):o.data.chat?e.jsx("div",{className:"chats",children:x()}):null]}),e.jsxs(Re,{className:"chat-app-form",onSubmit:l=>W(l),children:[e.jsxs(ge,{className:"input-group-merge me-1 form-send-message",children:[e.jsx(F,{value:v,onChange:l=>$(l.target.value),placeholder:"Type your message or use speech to text"}),e.jsx(xe,{children:e.jsxs(qe,{className:"attachment-icon mb-0",for:"attach-doc",children:[e.jsx(G,{className:"cursor-pointer text-secondary",size:14}),e.jsx("input",{type:"file",id:"attach-doc",hidden:!0})]})})]}),e.jsxs(de,{className:"send",color:"primary",children:[e.jsx(es,{size:14,className:"d-lg-none"}),e.jsx("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},is=s=>{const{store:a,sidebar:r,handleSidebar:t,userSidebarLeft:n,handleUserSidebarLeft:i}=s,{chats:d,contacts:f,userProfile:m}=a,j=Y(),[u,v]=h.useState("");h.useState("");const[$,E]=h.useState({chatId:null,userId:null,uniqueId:null}),[M,o]=h.useState([]),[T,b]=h.useState([]),P=N=>Object.keys(N).length===0&&N.constructor===Object,ee=async N=>{var S;const c=d.find(C=>C.unique_id===N),x=a.selectedUser.find(C=>{var W;return C.data.chat.id===((W=c.chat)==null?void 0:W.id)});if(!x||x.data.chat.id!==((S=c.chat)==null?void 0:S.id))try{await j(Oe()),await j(Me(c==null?void 0:c.unique_id)),await j(ue(c==null?void 0:c.unique_id)),await j(Le(null))}catch(C){console.error("Error in handleUserClick:",C)}finally{j(pe())}else E({chatId:x.data.chat.id,userId:x.data.contact.id,uniqueId:x.id}),await j(ue(c==null?void 0:c.unique_id));r===!0&&t()};h.useEffect(()=>{var N,c,x;if(!P(a.selectedUser)){const S=a.selectedUser.find(C=>C.data.chat.unique_id===a.selectedChatUniqueId);S&&E({chatId:(N=S.data.chat)==null?void 0:N.id,userId:(c=S.data.contact)==null?void 0:c.id,uniqueId:(x=S.data.chat)==null?void 0:x.unique_id})}},[a.selectedUser,a.selectedChatUniqueId]);const se=()=>d&&d.length?u.length&&!M.length?e.jsx("li",{className:"no-results show",children:e.jsx("h6",{className:"mb-0",children:"No Chats Found"})}):(u.length&&M.length?M:d).map(c=>{const x=Pe(c.chat.lastMessage?c.chat.lastMessage.time:new Date);return e.jsxs("li",{onClick:()=>ee(c.unique_id),className:_({active:$.uniqueId===c.unique_id}),children:[e.jsx(I,{img:`${D}/${c.avatar}`,imgHeight:"42",imgWidth:"42",status:c.status}),e.jsxs("div",{className:"chat-info flex-grow-1",children:[e.jsx("h5",{className:"mb-0",children:c.about}),e.jsx(Ge,{className:"text-truncate",children:c.chat.lastMessage?c.chat.lastMessage.message:d[d.length-1].message})]}),e.jsxs("div",{className:"chat-meta text-nowrap",children:[e.jsx("small",{className:"float-end mb-25 chat-time ms-25",children:x}),c.chat.unseenMsgsForUser>=1&&m.id!==c.chat.lastMessage.senderId?e.jsx(Ue,{className:"float-end",color:"danger",pill:!0,children:c.chat.unseenMsgsForUser}):null]})]},`${c.chat.id}_${c.id}`)}):null,te=N=>{v(N.target.value);const c=C=>C.fullName.toLowerCase().includes(N.target.value.toLowerCase()),x=d==null?void 0:d.filter(c),S=f==null?void 0:f.filter(c);Array.isArray(x)?o([...x]):o([]),Array.isArray(S)?b([...S]):b([])};return a?e.jsx("div",{className:"sidebar-left",children:a.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"sidebar",children:[e.jsxs("div",{className:_("chat-profile-sidebar",{show:n}),children:[e.jsxs("header",{className:"chat-profile-header",children:[e.jsx("div",{className:"close-icon",onClick:i,children:e.jsx(A,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(I,{className:"box-shadow-1 avatar-border",img:`${D}/${m.image}`,status:m.online_status,size:"xl"}),e.jsx("h4",{className:"chat-user-name",children:m.fullName}),e.jsx("span",{className:"user-post",children:m.role})]})]}),e.jsxs(q,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(Ye,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Notification"})]}),e.jsx("div",{className:"form-switch",children:e.jsx(F,{type:"switch",id:"notifications",name:"notifications"})})]}),e.jsxs("li",{className:"d-flex align-items-center cursor-pointer",children:[e.jsx(Be,{className:"me-75",size:"18"}),e.jsx("span",{className:"align-middle",children:"Delete Chat"})]})]})]})]}),e.jsxs("div",{className:_("sidebar-content",{show:r===!0}),children:[e.jsx("div",{className:"sidebar-close-icon",onClick:t,children:e.jsx(A,{size:14})}),e.jsx("div",{className:"chat-fixed-search",children:e.jsxs("div",{className:"d-flex align-items-center w-100",children:[e.jsx("div",{className:"sidebar-profile-toggle",onClick:i,children:Object.keys(m).length?e.jsx(I,{className:"avatar-border",img:`${D}/${m.image}`,status:m.online_status,imgHeight:"42",imgWidth:"42"}):null}),e.jsxs(ge,{className:"input-group-merge ms-1 w-100",children:[e.jsx(xe,{className:"round",children:e.jsx(je,{className:"text-muted",size:14})}),e.jsx(F,{value:u,className:"round",placeholder:"Search or start a new chat",onChange:te})]})]})}),e.jsxs(q,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[e.jsx("h4",{className:"chat-list-title",children:"Airline Baggages"}),e.jsx("ul",{className:"chat-users-list chat-list media-list",children:se()}),e.jsx("h4",{className:"chat-list-title",children:"Hotels"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"}),e.jsx("h4",{className:"chat-list-title",children:"Coupons"}),e.jsx("ul",{className:"chat-users-list contact-list media-list"})]})]})]})})}):null},ls=s=>{const{user:a,handleUserSidebarRight:r,userSidebarRight:t}=s;return e.jsxs("div",{className:_("user-profile-sidebar",{show:t===!0}),children:[e.jsxs("header",{className:"user-profile-header",children:[e.jsx("span",{className:"close-icon",onClick:r,children:e.jsx(A,{size:14})}),e.jsxs("div",{className:"header-profile-sidebar",children:[e.jsx(I,{className:"box-shadow-1 avatar-border",size:"xl",status:a.status,img:a.avatar?`${D}/${a.avatar}`:"",imgHeight:"70",imgWidth:"70"}),e.jsx("h4",{className:"chat-user-name",children:a.fullName}),e.jsx("span",{className:"user-post",children:a.role})]})]}),e.jsxs(q,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[e.jsx("h6",{className:"section-label mb-1",children:"Delivery Details"}),e.jsx("p",{children:a.about}),e.jsx("p",{children:a.departure_date}),e.jsx("p",{children:a.arrival_date}),e.jsx("p",{children:a.flight_number??"Not mentioned"}),e.jsxs("p",{children:[a.weight," Kg"]}),e.jsxs("p",{children:[a.price,"$"]}),e.jsxs("div",{className:"personal-info",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),e.jsx("ul",{className:"list-unstyled",children:e.jsxs("li",{className:"mb-1",children:[e.jsx(Te,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:a.user_authenticated===1?"Authenticated":"Unatuhenticated"})]})})]}),e.jsxs("div",{className:"more-options",children:[e.jsx("h6",{className:"section-label mb-1 mt-3",children:"Options"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(G,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Seller Profile"})]}),e.jsxs("li",{className:"cursor-pointer mb-1",children:[e.jsx(G,{className:"me-50",size:17}),e.jsx("span",{className:"align-middle",children:" Go to Offer"})]}),e.jsxs("li",{className:"cursor-pointer",children:[e.jsx(as,{className:"me-75",size:17}),e.jsx("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};const xs=()=>{const s=me(b=>b),a=We(s),r=me(b=>b.chatData),t=Y(),[n,i]=h.useState({}),[d,f]=h.useState(!1),[m,j]=h.useState(!1),[u,v]=h.useState(!1),$=()=>f(!d),E=()=>v(!u),M=()=>j(!m),o=()=>{f(!1),j(!1),v(!1)},T=b=>i(b);return h.useEffect(()=>{(async()=>{try{await Promise.all([t(_e()).unwrap(),t($e(a.id)).unwrap()])}catch(P){console.error("Error fetching data:",P)}finally{t(pe())}})()},[t,a.id]),e.jsx(h.Fragment,{children:r.isLoading?e.jsx("div",{id:"loading-overlay",style:{display:"flex"},children:e.jsx("div",{className:"loader"})}):e.jsxs(e.Fragment,{children:[e.jsx(is,{store:r,sidebar:d,handleSidebar:$,userSidebarLeft:u,handleUserSidebarLeft:E}),e.jsx("div",{className:"content-right",children:e.jsx("div",{className:"content-wrapper",children:e.jsxs("div",{className:"content-body",children:[e.jsx("div",{className:_("body-content-overlay",{show:m===!0||d===!0||u===!0}),onClick:o}),e.jsx(ns,{store:r,handleUser:T,handleSidebar:$,userSidebarLeft:u,handleUserSidebarRight:M}),e.jsx(ls,{user:n,userSidebarRight:m,handleUserSidebarRight:M})]})})})]})})};export{xs as default};
